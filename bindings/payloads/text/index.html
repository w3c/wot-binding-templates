<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
    <script src='https://www.w3.org/Tools/respec/respec-w3c' class='remove'></script>
    <script class='remove'>
        var respecConfig = {
            specStatus: "ED",
            editors: [
                {
                    name: "Cristiano Aguzzi",
                    w3cid: "105495",
                    company: "Invited Expert",
                    companyURL: "https://github.com/relu91"
                }
            ],
            edDraftURI: "https://w3c.github.io/wot-binding-templates/text",
            shortName: "wot-txt-template",
            otherLinks: [
                {
                    key: "Other documentation",
                    data: [{
                        value: "In the GitHub repository",
                        href: "https://github.com/w3c/wot-binding-templates/graphs/contributors"
                    }]
                }
            ]
        };
    </script>
    <title>Text Binding Template</title>
</head>

<body>
    <section id="abstract">
        <p>
            The Thing Description specification defines a data model for describing payloads. This 
            document describes how to map <a href="https://www.rfc-editor.org/rfc/rfc2046.html#section-4.1.3">Text Plain</a>
            payloads to the WoT Data model. 
        </p>
    </section>
    <section id='introduction'>
        <h2>Introduction</h2>
        <p>
        The Internet of things is well-known for its wide range of protocols and payload formats. The Web of Things Binding
        Templates specification addresses the interoperability challenges between the different IoT technologies using a
        declarative approach. In particular, for various payload formats, it defines a set of mappings between content types and
        the data model defined in the Thing Description specification. This document focuses on the <a href="https://www.rfc-editor.org/rfc/rfc2046.html#section-4.1.3">Text Plain</a>
        content type and provides examples of payloads that can be used in a WoT application.
        </p>
    </section>
    <section id='sotd'>
        <p>
            <em>This document is a work in progress</em>
        </p>
    </section>
    <section>
        <h2>Media type</h2>
        <p>
            The text binding template refers to <a href="https://www.rfc-editor.org/rfc/rfc2046.html#section-4.1.3">Text Plain</a> 
            with <code>text/plain</code> as MIME type.
    </section>
    <section>
        <h2>Mapping <code>text/plain</code> to DataSchema values</h2>
        <p>
            This section describes how a <code>text/plain</code> payloads can be de/serialized in one of the supported
            DataSchema types.
        <ul>
            <li>
                <code>string</code>: The payload is interpreted as a string of characters. 
            </li>
            <li>
                <code>number</code>: The payload contains a number serialized as characters. Implementations should
                convert the characters to a <code>number</code> and viceversa when reading/writing the payload.
            </li>
            <li>
                <code>integer</code>: The payload contains an integer serialized as characters. Implementations should
                convert the characters to an <code>integer</code> and viceversa when reading/writing the payload.
            </li>
        </ul>
        </p>
    </section>
    <section>
        <h2>Supported Data Schema terms</h2>
        <p>
            This section describes which terms can be used when describing data with <code>text/plain</code> content type. 
        </p>
        <p>
            Given the nature of <code>text/plain</code> documents and the mapping function described below, the following terms are not supported:
            <ul>
                <li><code>object</code></li>
                <li><code>array</code></li>
                <li><code>null</code></li>
                <li><code>boolean</code></li>
            </ul>
            <p class="ednote">
                Implementations may use custom serialization/deserialization functions to support these terms.
            </p>
        </p>
    </section>

    <section>
        <h2>Examples</h2>
        Consider this Data schema:
        <pre class="example">
            {
                "type": "string",
            }
        </pre>
        <p>
            A valid document can be:
        </p>
        <pre class="example">
            This is the context of ta text file sent by the remote device.
        </pre>
        Numbers instead can be mapped as follows:
        <pre class="example">
            {
             "type": "number",
            }
        </pre>
        A set of valid <code>text/plain</code> documents according to this schema are:  
        <pre class="example">
                    123
        </pre>
        <pre class="example">
                    123.456
        </pre>
        <pre class="example">
            -13
        </pre>
    </section>

</body>

</html>
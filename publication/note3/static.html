<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head>
<meta charset="utf-8">
<meta name="generator" content="ReSpec 34.1.1">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<style>
span.example-title{text-transform:none}
:is(aside,div).example,div.illegal-example{padding:.5em;margin:1em 0;position:relative;clear:both}
div.illegal-example{color:red}
div.illegal-example p{color:#000}
:is(aside,div).example{border-left-width:.5em;border-left-style:solid;border-color:#e0cb52;background:#fcfaee}
aside.example div.example{border-left-width:.1em;border-color:#999;background:#fff}
.example pre{background-color:rgba(0,0,0,.03)}
</style>
<style>
.issue-label{text-transform:initial}
.warning>p:first-child{margin-top:0}
.warning{padding:.5em;border-left-width:.5em;border-left-style:solid}
span.warning{padding:.1em .5em .15em}
.issue.closed span.issue-number{text-decoration:line-through}
.issue.closed span.issue-number::after{content:" (Closed)";font-size:smaller}
.warning{border-color:#f11;border-width:.2em;border-style:solid;background:#fbe9e9}
.warning-title:before{content:"⚠";font-size:1.3em;float:left;padding-right:.3em;margin-top:-.3em}
li.task-list-item{list-style:none}
input.task-list-item-checkbox{margin:0 .35em .25em -1.6em;vertical-align:middle}
.issue a.respec-gh-label{padding:5px;margin:0 2px 0 2px;font-size:10px;text-transform:none;text-decoration:none;font-weight:700;border-radius:4px;position:relative;bottom:2px;border:none;display:inline-block}
</style>
<style>
dfn{cursor:pointer}
.dfn-panel{position:absolute;z-index:35;min-width:300px;max-width:500px;padding:.5em .75em;margin-top:.6em;font-family:"Helvetica Neue",sans-serif;font-size:small;background:#fff;color:#000;box-shadow:0 1em 3em -.4em rgba(0,0,0,.3),0 0 1px 1px rgba(0,0,0,.05);border-radius:2px}
.dfn-panel:not(.docked)>.caret{position:absolute;top:-9px}
.dfn-panel:not(.docked)>.caret::after,.dfn-panel:not(.docked)>.caret::before{content:"";position:absolute;border:10px solid transparent;border-top:0;border-bottom:10px solid #fff;top:0}
.dfn-panel:not(.docked)>.caret::before{border-bottom:9px solid #a2a9b1}
.dfn-panel *{margin:0}
.dfn-panel b{display:block;color:#000;margin-top:.25em}
.dfn-panel ul a[href]{color:#333}
.dfn-panel>div{display:flex}
.dfn-panel a.self-link{font-weight:700;margin-right:auto}
.dfn-panel .marker{padding:.1em;margin-left:.5em;border-radius:.2em;text-align:center;white-space:nowrap;font-size:90%;color:#040b1c}
.dfn-panel .marker.dfn-exported{background:#d1edfd;box-shadow:0 0 0 .125em #1ca5f940}
.dfn-panel .marker.idl-block{background:#8ccbf2;box-shadow:0 0 0 .125em #0670b161}
.dfn-panel a:not(:hover){text-decoration:none!important;border-bottom:none!important}
.dfn-panel a[href]:hover{border-bottom-width:1px}
.dfn-panel ul{padding:0}
.dfn-panel li{margin-left:1em}
.dfn-panel.docked{position:fixed;left:.5em;top:unset;bottom:2em;margin:0 auto;max-width:calc(100vw - .75em * 2 - .5em - .2em * 2);max-height:30vh;overflow:auto}
</style>
    
    
<title>Web of Things (WoT) Binding Templates</title>
    
    

<style id="respec-mainstyle">
@keyframes pop{
0%{transform:scale(1,1)}
25%{transform:scale(1.25,1.25);opacity:.75}
100%{transform:scale(1,1)}
}
:is(h1,h2,h3,h4,h5,h6,a) abbr{border:none}
dfn{font-weight:700}
a.internalDFN{color:inherit;border-bottom:1px solid #99c;text-decoration:none}
a.externalDFN{color:inherit;border-bottom:1px dotted #ccc;text-decoration:none}
a.bibref{text-decoration:none}
.respec-offending-element:target{animation:pop .25s ease-in-out 0s 1}
.respec-offending-element,a[href].respec-offending-element{text-decoration:red wavy underline}
@supports not (text-decoration:red wavy underline){
.respec-offending-element:not(pre){display:inline-block}
.respec-offending-element{background:url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=) bottom repeat-x}
}
#references :target{background:#eaf3ff;animation:pop .4s ease-in-out 0s 1}
cite .bibref{font-style:normal}
a[href].orcid{padding-left:4px;padding-right:4px}
a[href].orcid>svg{margin-bottom:-2px}
.toc a,.tof a{text-decoration:none}
a .figno,a .secno{color:#000}
ol.tof,ul.tof{list-style:none outside none}
.caption{margin-top:.5em;font-style:italic}
table.simple{border-spacing:0;border-collapse:collapse;border-bottom:3px solid #005a9c}
.simple th{background:#005a9c;color:#fff;padding:3px 5px;text-align:left}
.simple th a{color:#fff;padding:3px 5px;text-align:left}
.simple th[scope=row]{background:inherit;color:inherit;border-top:1px solid #ddd}
.simple td{padding:3px 10px;border-top:1px solid #ddd}
.simple tr:nth-child(even){background:#f0f6ff}
.section dd>p:first-child{margin-top:0}
.section dd>p:last-child{margin-bottom:0}
.section dd{margin-bottom:1em}
.section dl.attrs dd,.section dl.eldef dd{margin-bottom:0}
#issue-summary>ul{column-count:2}
#issue-summary li{list-style:none;display:inline-block}
details.respec-tests-details{margin-left:1em;display:inline-block;vertical-align:top}
details.respec-tests-details>*{padding-right:2em}
details.respec-tests-details[open]{z-index:999999;position:absolute;border:thin solid #cad3e2;border-radius:.3em;background-color:#fff;padding-bottom:.5em}
details.respec-tests-details[open]>summary{border-bottom:thin solid #cad3e2;padding-left:1em;margin-bottom:1em;line-height:2em}
details.respec-tests-details>ul{width:100%;margin-top:-.3em}
details.respec-tests-details>li{padding-left:1em}
.self-link:hover{opacity:1;text-decoration:none;background-color:transparent}
aside.example .marker>a.self-link{color:inherit}
.header-wrapper{display:flex;align-items:baseline}
:is(h2,h3,h4,h5,h6):not(#toc>h2,#abstract>h2,#sotd>h2,.head>h2){position:relative;left:-.5em}
:is(h2,h3,h4,h5,h6):not(#toch2)+a.self-link{color:inherit;order:-1;position:relative;left:-1.1em;font-size:1rem;opacity:.5}
:is(h2,h3,h4,h5,h6)+a.self-link::before{content:"§";text-decoration:none;color:var(--heading-text)}
:is(h2,h3)+a.self-link{top:-.2em}
:is(h4,h5,h6)+a.self-link::before{color:#000}
@media (max-width:767px){
dd{margin-left:0}
}
@media print{
.removeOnSave{display:none}
}
</style>
<meta name="description" content="W3C Web of Things enables applications to interact with and orchestrate connected Things at the Web scale.
            The standardized abstract interaction model exposed by the WoT Thing Description enables applications to
            scale and evolve independently of the individual Things.">
<link rel="canonical" href="https://www.w3.org/TR/wot-binding-templates/">
<style>
.hljs{display:block;overflow-x:auto;padding:.5em;color:#383a42;background:#fafafa}
.hljs-comment,.hljs-quote{color:#717277;font-style:italic}
.hljs-doctag,.hljs-formula,.hljs-keyword{color:#a626a4}
.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#ca4706;font-weight:700}
.hljs-literal{color:#0b76c5}
.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#42803c}
.hljs-built_in,.hljs-class .hljs-title{color:#9a6a01}
.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#986801}
.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#336ae3}
.hljs-emphasis{font-style:italic}
.hljs-strong{font-weight:700}
.hljs-link{text-decoration:underline}
</style>
<style>
var{position:relative;cursor:pointer}
var[data-type]::after,var[data-type]::before{position:absolute;left:50%;top:-6px;opacity:0;transition:opacity .4s;pointer-events:none}
var[data-type]::before{content:"";transform:translateX(-50%);border-width:4px 6px 0 6px;border-style:solid;border-color:transparent;border-top-color:#000}
var[data-type]::after{content:attr(data-type);transform:translateX(-50%) translateY(-100%);background:#000;text-align:center;font-family:"Dank Mono","Fira Code",monospace;font-style:normal;padding:6px;border-radius:3px;color:#daca88;text-indent:0;font-weight:400}
var[data-type]:hover::after,var[data-type]:hover::before{opacity:1}
</style>
<script id="initialUserConfig" type="application/json">{
  "specStatus": "NOTE",
  "processVersion": 2017,
  "shortName": "wot-binding-templates",
  "copyrightStart": 2017,
  "group": "wg/wot",
  "noRecTrack": true,
  "wgPublicList": "public-wot-wg",
  "edDraftURI": "https://w3c.github.io/wot-binding-templates/",
  "github": "https://github.com/w3c/wot-binding-templates",
  "issueBase": "https://www.github.com/w3c/wot-binding-templates/issues",
  "editors": [
    {
      "name": "Michael Koster",
      "w3cid": "110658",
      "company": "Invited Expert",
      "companyURL": "https://github.com/mjkoster/"
    },
    {
      "name": "Ege Korkan",
      "w3cid": "110131",
      "company": "Siemens AG",
      "companyURL": "https://www.siemens.com/"
    }
  ],
  "otherLinks": [
    {
      "key": "Contributors",
      "data": [
        {
          "value": "In the GitHub repository",
          "href": "https://github.com/w3c/wot-binding-templates/graphs/contributors"
        }
      ]
    },
    {
      "key": "Repository",
      "data": [
        {
          "value": "We are on GitHub",
          "href": "https://github.com/w3c/wot-binding-templates/"
        },
        {
          "value": "File a bug",
          "href": "https://github.com/w3c/wot-binding-templates/issues"
        }
      ]
    }
  ],
  "localBiblio": {
    "CoRE-RD": {
      "href": "https://tools.ietf.org/html/draft-ietf-core-resource-directory-11",
      "title": "CoRE Resource Directory",
      "status": "Internet-Draft",
      "publisher": "IETF",
      "date": "03 July 2017"
    },
    "wot-security-guidelines": {
      "href": "https://w3c.github.io/wot-security/",
      "title": "Web of Things (WoT) Security and Privacy Guidelines",
      "status": "W3C Editor's Draft",
      "publisher": "W3C",
      "date": "21 August 2019"
    },
    "iana-web-socket-registry": {
      "href": "https://www.iana.org/assignments/websocket/websocket.xml#subprotocol-name",
      "title": "IANA Registry for Websocket Subprotocols",
      "status": "",
      "publisher": "IANA",
      "date": "24 May 2019",
      "id": "iana-web-socket-registry"
    },
    "iana-uri-schemes": {
      "href": "https://www.iana.org/assignments/uri-schemes/uri-schemes.xhtml",
      "title": "Uniform Resource Identifier (URI) Schemes",
      "status": "",
      "publisher": "IANA",
      "date": "21 July 2021",
      "id": "iana-uri-schemes"
    },
    "MQTT": {
      "href": "https://docs.oasis-open.org/mqtt/mqtt/v5.0/mqtt-v5.0.html",
      "title": "MQTT Version 5.0",
      "status": "",
      "publisher": "MQTT",
      "date": "07 March 2019",
      "authors": [
        "Andrew Banks",
        "Ed Briggs",
        "Ken Borgendale",
        "Rahul Gupta"
      ],
      "id": "mqtt"
    },
    "LWM2M": {
      "href": "https://www.omaspecworks.org/what-is-oma-specworks/iot/lightweight-m2m-lwm2m/",
      "title": "Lightweight M2M",
      "status": "",
      "publisher": "Open Mobility Alliance",
      "id": "lwm2m"
    },
    "OCF": {
      "href": "https://openconnectivity.org/developer/specifications/",
      "title": "OCF Specification",
      "publisher": "Open Connectivity Foundation",
      "date": "Last accessed: February 2020",
      "id": "ocf"
    },
    "Modbus": {
      "href": "https://modbus.org/specs.php",
      "title": "MODBUS APPLICATION PROTOCOL SPECIFICATION",
      "publisher": "Modbus Organization",
      "status": "",
      "date": "26 April 2012"
    }
  },
  "publishISODate": "2023-05-25T00:00:00.000Z",
  "generatedSubtitle": "W3C Group Note 25 May 2023"
}</script>
<link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2021/W3C-NOTE"></head>

<body class="h-entry toc-inline"><div class="head">
    <p class="logos"><a class="logo" href="https://www.w3.org/"><img crossorigin="" alt="W3C" src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72" height="48">
  </a></p>
    <h1 id="title" class="title">Web of Things (WoT) Binding Templates</h1> 
    <p id="w3c-state"><a href="https://www.w3.org/standards/types#NOTE">W3C Group Note</a> <time class="dt-published" datetime="2023-05-25">25 May 2023</time></p>
    <details open="">
      <summary>More details about this document</summary>
      <dl>
        <dt>This version:</dt><dd>
                <a class="u-url" href="https://www.w3.org/TR/2023/NOTE-wot-binding-templates-20230525/">https://www.w3.org/TR/2023/NOTE-wot-binding-templates-20230525/</a>
              </dd>
        <dt>Latest published version:</dt><dd>
                <a href="https://www.w3.org/TR/wot-binding-templates/">https://www.w3.org/TR/wot-binding-templates/</a>
              </dd>
        <dt>Latest editor's draft:</dt><dd><a href="https://w3c.github.io/wot-binding-templates/">https://w3c.github.io/wot-binding-templates/</a></dd>
        <dt>History:</dt><dd>
                    <a href="https://www.w3.org/standards/history/wot-binding-templates">https://www.w3.org/standards/history/wot-binding-templates</a>
                  </dd><dd>
                    <a href="https://github.com/w3c/wot-binding-templates/commits/">Commit history</a>
                  </dd>
        
        
        
        
        
        <dt>Editors:</dt><dd class="editor p-author h-card vcard" data-editor-id="110658">
    <span class="p-name fn">Michael Koster</span> (<a class="p-org org h-org" href="https://github.com/mjkoster/">Invited Expert</a>)
  </dd><dd class="editor p-author h-card vcard" data-editor-id="110131">
    <span class="p-name fn">Ege Korkan</span> (<a class="p-org org h-org" href="https://www.siemens.com/">Siemens AG</a>)
  </dd>
        
        
        <dt>Feedback:</dt><dd>
        <a href="https://github.com/w3c/wot-binding-templates/">GitHub w3c/wot-binding-templates</a>
        (<a href="https://github.com/w3c/wot-binding-templates/pulls/">pull requests</a>,
        <a href="https://github.com/w3c/wot-binding-templates/issues/new/choose">new issue</a>,
        <a href="https://github.com/w3c/wot-binding-templates/issues/">open issues</a>)
      </dd><dd><a href="mailto:public-wot-wg@w3.org?subject=%5Bwot-binding-templates%5D%20YOUR%20TOPIC%20HERE">public-wot-wg@w3.org</a> with subject line <kbd>[wot-binding-templates] <em>… message topic …</em></kbd> (<a rel="discussion" href="https://lists.w3.org/Archives/Public/public-wot-wg">archives</a>)</dd>
        
        <dt>Contributors</dt><dd>
    <a href="https://github.com/w3c/wot-binding-templates/graphs/contributors">In the GitHub repository</a>
  </dd><dt>Repository</dt><dd>
    <a href="https://github.com/w3c/wot-binding-templates/">We are on GitHub</a>
  </dd><dd>
    <a href="https://github.com/w3c/wot-binding-templates/issues">File a bug</a>
  </dd>
      </dl>
    </details>
    
    
    <p class="copyright">
    <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a>
    ©
    2017-2023
    
    <a href="https://www.w3.org/">World Wide Web Consortium</a>.
    <abbr title="World Wide Web Consortium">W3C</abbr><sup>®</sup>
    <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
    <a href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and
    <a rel="license" href="https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document" title="W3C Software and Document Notice and License">permissive document license</a> rules apply.
  </p>
    <hr title="Separator for header">
  </div>

    <section id="abstract" class="introductory"><h2>Abstract</h2>
        <p>
            <abbr title="World Wide Web Consortium">W3C</abbr> Web of Things enables applications to interact with and orchestrate connected Things at the Web scale.
            The standardized abstract interaction model exposed by the WoT Thing Description enables applications to
            scale and evolve independently of the individual Things.
        </p>
        <p>
            Many network-level protocols, standards and platforms for connected Things have already been developed, and
            have millions of devices deployed in the field today. These standards are converging on a common set of
            transport
            protocols and transfer layers, but each has peculiar content formats, payload schemas, and data types.
        </p>
        <p>
            Despite using unique formats and data models, the high-level interactions exposed by most connected things
            can be modeled using the Property, Action, and Event interaction affordances of the WoT Thing Description.
        </p>
        <p>
            Binding Templates enable a Thing Description to be adapted to a specific protocol, data payload formats or
            platforms that combine both in specific ways.
            This is done through additional descriptive vocabularies, Thing Models and examples that aim to guide the
            implementors of Things and Consumers alike.
        </p>
        <p>
            This core specification document acts as a base and explains how other binding templates should be designed.
            Concrete binding templates are then provided in their respective documents, referred to as subspecifications,
             that are linked to from this document.
        </p>
    </section>

    <section id="sotd" class="introductory"><h2>Status of This Document</h2><p><em>This section describes the status of this
      document at the time of its publication. A list of current <abbr title="World Wide Web Consortium">W3C</abbr>
      publications and the latest revision of this technical report can be found
      in the <a href="https://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr> technical reports index</a> at
      https://www.w3.org/TR/.</em></p>
        <div class="note" id="issue-container-generatedID"><div role="heading" class="ednote-title marker" id="h-ednote" aria-level="3"><span>Editor's note</span><span class="issue-label">: The W3C WoT WG is asking for feedback</span></div><p class="">
            Please contribute to this draft using the
            <a href="https://github.com/w3c/wot-binding-templates/issues">GitHub Issue</a>
            feature of the <a href="https://github.com/w3c/wot-binding-templates/">
                WoT Binding Templates</a> repository.
            For feedback on security and privacy considerations, please use the
            <a href="https://github.com/w3c/wot-security/issues">WoT Security and Privacy</a>
            Issues, as they are cross-cutting over all our documents.
        </p></div>
    <p>
    This document was published by the <a href="https://www.w3.org/groups/wg/wot">Web of Things Working Group</a> as
    a Group Note using the
        <a href="https://www.w3.org/2021/Process-20211102/#recs-and-notes">Note track</a>. 
  </p><p>This Group Note is endorsed by
        the <a href="https://www.w3.org/groups/wg/wot">Web of Things Working Group</a>, but is not endorsed by
        <abbr title="World Wide Web Consortium">W3C</abbr> itself nor its
        Members. </p><p>
    This is a draft document and may be updated, replaced or obsoleted by other
    documents at any time. It is inappropriate to cite this document as other
    than work in progress.
    
  </p><p data-deliverer="95969">
    
        The
        <a href="https://www.w3.org/Consortium/Patent-Policy/"><abbr title="World Wide Web Consortium">W3C</abbr> Patent
          Policy</a>
        does not carry any licensing requirements or commitments on this
        document.
      
    
  </p><p>
                  This document is governed by the
                  <a id="w3c_process_revision" href="https://www.w3.org/2021/Process-20211102/">2 November 2021 <abbr title="World Wide Web Consortium">W3C</abbr> Process Document</a>.
                </p></section><nav id="toc"><h2 class="introductory" id="table-of-contents">Table of Contents</h2><ol class="toc"><li class="tocline"><a class="tocxref" href="#abstract">Abstract</a></li><li class="tocline"><a class="tocxref" href="#sotd">Status of This Document</a></li><li class="tocline"><a class="tocxref" href="#introduction"><bdi class="secno">1. </bdi>Introduction</a></li><li class="tocline"><a class="tocxref" href="#conformance"><bdi class="secno">2. </bdi>Conformance</a></li><li class="tocline"><a class="tocxref" href="#terminology"><bdi class="secno">3. </bdi>Terminology</a></li><li class="tocline"><a class="tocxref" href="#binding-overview"><bdi class="secno">4. </bdi>Binding Template Mechanisms</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#protocol-bindings"><bdi class="secno">4.1 </bdi>Protocol Binding Templates</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#protocol-bindings-intro"><bdi class="secno">4.1.1 </bdi>Introduction to Protocol Binding Templates</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#subprotocols"><bdi class="secno">4.1.1.1 </bdi>Subprotocols</a></li></ol></li><li class="tocline"><a class="tocxref" href="#terms-specified-by-protocol-binding-templates"><bdi class="secno">4.1.2 </bdi>Terms Specified by Protocol Binding Templates</a></li><li class="tocline"><a class="tocxref" href="#protocol-bindings-table"><bdi class="secno">4.1.3 </bdi>Existing Protocol Binding Templates</a></li><li class="tocline"><a class="tocxref" href="#using-a-thing-description-with-a-protocol-binding-template-subspecification"><bdi class="secno">4.1.4 </bdi>Using a Thing Description with a Protocol Binding Template Subspecification</a></li><li class="tocline"><a class="tocxref" href="#creating-a-new-protocol-binding-template-subspecification"><bdi class="secno">4.1.5 </bdi>Creating a new Protocol Binding Template Subspecification</a></li></ol></li><li class="tocline"><a class="tocxref" href="#payload-bindings"><bdi class="secno">4.2 </bdi>Payload Binding Templates</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#payload-bindings-intro"><bdi class="secno">4.2.1 </bdi>Introduction to Payload Binding Templates</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#payload-bindings-contentType"><bdi class="secno">4.2.1.1 </bdi>Content Types</a></li><li class="tocline"><a class="tocxref" href="#payload-bindings-dataschema"><bdi class="secno">4.2.1.2 </bdi>Data Schemas</a></li></ol></li><li class="tocline"><a class="tocxref" href="#terms-specified-by-payload-binding-templates"><bdi class="secno">4.2.2 </bdi>Terms Specified by Payload Binding Templates</a></li><li class="tocline"><a class="tocxref" href="#payload-bindings-table"><bdi class="secno">4.2.3 </bdi>Existing Payload Binding Templates</a></li><li class="tocline"><a class="tocxref" href="#payload-bindings-creating"><bdi class="secno">4.2.4 </bdi>Creating a new Payload Binding Template Subspecification</a></li></ol></li><li class="tocline"><a class="tocxref" href="#platform-bindings"><bdi class="secno">4.3 </bdi>Platform Binding Templates</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#platform-bindings-intro"><bdi class="secno">4.3.1 </bdi>Introduction to Platform Binding Templates</a></li><li class="tocline"><a class="tocxref" href="#platform-bindings-table"><bdi class="secno">4.3.2 </bdi>Existing Platform Binding Templates</a></li><li class="tocline"><a class="tocxref" href="#creating-a-new-platform-binding-template-subspecification"><bdi class="secno">4.3.3 </bdi>Creating a new Platform Binding Template Subspecification</a></li></ol></li></ol></li><li class="tocline"><a class="tocxref" href="#binding-examples"><bdi class="secno">5. </bdi>Examples of Thing Descriptions with Protocol Binding Templates</a></li><li class="tocline"><a class="tocxref" href="#sec-security-considerations"><bdi class="secno">6. </bdi>Security and Privacy Considerations</a></li><li class="tocline"><a class="tocxref" href="#sec-acknowledgements"><bdi class="secno">A. </bdi>Acknowledgements</a></li><li class="tocline"><a class="tocxref" href="#sec-payload-examples"><bdi class="secno">B. </bdi>Examples of Payloads and Data Schemas from IoT Platforms and Standards</a></li><li class="tocline"><a class="tocxref" href="#references"><bdi class="secno">C. </bdi>References</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#normative-references"><bdi class="secno">C.1 </bdi>Normative references</a></li><li class="tocline"><a class="tocxref" href="#informative-references"><bdi class="secno">C.2 </bdi>Informative references</a></li></ol></li></ol></nav>

    <section id="introduction"><div class="header-wrapper"><h2 id="x1-introduction"><bdi class="secno">1. </bdi>Introduction</h2><a class="self-link" href="#introduction" aria-label="Permalink for Section 1."></a></div>
        
        <p>
            IoT addresses multiple use cases from different application domains, while requiring different deployment patterns for devices.
            This results in different protocols and media types, creating the central challenge for the Web of Things: 
            enabling interactions with the plethora of different <a href="#dfn-iot-platform" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-iot-platform-1">IoT platforms</a> and devices that do not follow any particular standard, 
            but provide an eligible interface over a suitable network protocol.
            WoT is addressing this challenge through Binding Templates.
        </p><p>
            Binding Templates consist of multiple specifications, referred to as a <a href="#dfn-subspecification-0" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-subspecification-0-1">subspecification</a>
            in this document, that enable an application client (a WoT <a href="#dfn-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-consumer-1">Consumer</a>) to interact, using WoT Thing 
            Description[<cite><a class="bibref" data-link-type="biblio" href="#bib-wot-thing-description" title="Web of Things (WoT) Thing Description">WOT-THING-DESCRIPTION</a></cite>] (TD), with Things that exhibit diverse protocols, payload formats and a
            combination of these in platforms and frameworks.
            The mechanism that allows Consumers to interact with a variety of Things is called the Binding Mechanism,
             without which TDs could not build Hypermedia Controls as explained in the [<cite><a class="bibref" data-link-type="biblio" href="#bib-wot-architecture" title="Web of Things (WoT) Architecture">WOT-ARCHITECTURE</a></cite>].
        </p>

        <p>
            When describing a particular IoT device or platform, the corresponding Binding Template can be used to look up the
            communication metadata that is to be provided in the <a href="#dfn-thing-description" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-description-1">Thing Description</a> to support that platform.
            <a href="#fig-building-block" data-matched-text="[[[#fig-building-block]]]" class="fig-ref" title="Platforms, Protocols and Media Types as building blocks for binding templates and TD">Figure <bdi class="">1</bdi></a> shows how Binding Templates are used. 
            Based on the protocol, media type or platform binding template, a TD is created.
            The Consumer that is processing a TD implements the required Binding Template that is present in the TD by including a
            corresponding protocol stack, media type encoder/decoder or platform stack and by configuring the stack (or its
            messages) according to the information given in the TD such as serialization format of the messages and header options.
        </p>

        <figure id="fig-building-block">
            <img src="images/binding-templates.svg" alt="Platforms, Protocols and Media Types as building blocks for binding templates and TD">
            <figcaption><a class="self-link" href="#fig-building-block">Figure <bdi class="figno">1</bdi></a> <span class="fig-title">Platforms, Protocols and Media Types as building blocks for binding templates and TD</span></figcaption>
        </figure>
        
        <p>
            Each Interaction Affordance in a TD needs to have a binding to a protocol and to a payload format.
            <a href="#fig-mechanism" data-matched-text="[[[#fig-mechanism]]]" class="fig-ref" title="Binding Templates Mechanism inside a TD excerpt with messages of its Thing and a Consumer.">Figure <bdi class="">2</bdi></a> below illustrates an excerpt of a TD of a robot arm with of HTTP and JSON bindings.
            Here, the Consumer intends to invoke an action of the robot arm (<code>goTo</code>) in order to move it to the
            position x equals 12 and y equals 100.
            In order to do so, it creates the correct payload, serializes it and sends it using the correct protocol options.
            The Thing gets the message over the network and responds with a message that corresponds to its TD.
            Other protocols, payload formats or their combination are possible and are explained in <a href="#binding-overview" data-matched-text="[[[#binding-overview]]]" class="sec-ref"><bdi class="secno">4. </bdi>Binding Template Mechanisms</a>.
        </p>

        <figure id="fig-mechanism">
            <img src="images/binding-mechanism.drawio.svg" alt="Binding Templates mechanism with a TD, Thing and Consumer">
            <figcaption><a class="self-link" href="#fig-mechanism">Figure <bdi class="figno">2</bdi></a> <span class="fig-title">Binding Templates Mechanism inside a TD excerpt with messages of its Thing and a Consumer.</span></figcaption>
        </figure>

        <div class="note" id="issue-container-generatedID-0"><div role="heading" class="ednote-title marker" id="h-ednote-0" aria-level="3"><span>Editor's note</span></div><p class="">
            The editors also recommend reading the related chapters in [<cite><a class="bibref" data-link-type="biblio" href="#bib-wot-architecture" title="Web of Things (WoT) Architecture">WOT-ARCHITECTURE</a></cite>], such as
            <a href="https://www.w3.org/TR/wot-architecture11/#sec-binding-templates">WoT Binding Templates Building Block</a>, 
            <a href="https://www.w3.org/TR/wot-architecture11/#sec-hypermedia-controls">Hypermedia Controls</a>, 
            <a href="https://www.w3.org/TR/wot-architecture11/#sec-protocol-bindings">Protocol Bindings</a> and 
            <a href="https://www.w3.org/TR/wot-architecture11/#media-types">Media Types</a>.
        </p></div>


    </section>

    <section id="conformance"><div class="header-wrapper"><h2 id="x2-conformance"><bdi class="secno">2. </bdi>Conformance</h2><a class="self-link" href="#conformance" aria-label="Permalink for Section 2."></a></div><p>As well as sections marked as non-normative, all authoring guidelines, diagrams, examples, and notes in this specification are non-normative. Everything else in this specification is normative.</p><p>
        The key words <em class="rfc2119">MAY</em>, <em class="rfc2119">MUST</em>, <em class="rfc2119">SHOULD</em>, and <em class="rfc2119">SHOULD NOT</em> in this document
        are to be interpreted as described in
        <a href="https://datatracker.ietf.org/doc/html/bcp14">BCP 14</a>
        [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc2119" title="Key words for use in RFCs to Indicate Requirement Levels">RFC2119</a></cite>] [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8174" title="Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words">RFC8174</a></cite>]
        when, and only when, they appear in all capitals, as shown here.
      </p>
    </section>

    <section id="terminology" class="informative"><div class="header-wrapper"><h2 id="x3-terminology"><bdi class="secno">3. </bdi>Terminology</h2><a class="self-link" href="#terminology" aria-label="Permalink for Section 3."></a></div><p><em>This section is non-normative.</em></p>
        

        <p>The fundamental WoT terminology such as
            <dfn class="lint-ignore" data-plurals="things" id="dfn-thing" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Thing</dfn>,
            <dfn class="lint-ignore" id="dfn-consumer" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Consumer</dfn>,
            <dfn class="lint-ignore" id="dfn-thing-description" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Thing Description</dfn> (<dfn class="lint-ignore" data-plurals="tds" id="dfn-td" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">TD</dfn>),
            <dfn class="lint-ignore" id="dfn-interaction-model" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Interaction Model</dfn>,
            <dfn class="lint-ignore" id="dfn-interaction-affordance" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Interaction Affordance</dfn>,
            <dfn class="lint-ignore" id="dfn-property" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Property</dfn>,
            <dfn class="lint-ignore" id="dfn-action" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Action</dfn>,
            <dfn class="lint-ignore" id="dfn-event" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Event</dfn>,
            <dfn class="lint-ignore" id="dfn-data-schema" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Data Schema</dfn>,
            <dfn class="lint-ignore" id="dfn-content-type" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Content Type</dfn>,
            <dfn class="lint-ignore" id="dfn-protocol-binding" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Protocol Binding</dfn>,
            <dfn class="lint-ignore" id="dfn-binding-template" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Binding Template</dfn>,
            <dfn class="lint-ignore" data-plurals="servients" id="dfn-servient" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Servient</dfn>,
            <dfn class="lint-ignore" id="dfn-vocabulary" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Vocabulary</dfn>,
            <dfn class="lint-ignore" id="dfn-wot-interface" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">WoT Interface</dfn>,
            <dfn class="lint-ignore" id="dfn-wot-runtime" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">WoT Runtime</dfn>,
            <dfn class="lint-ignore" data-plurals="iot platforms" id="dfn-iot-platform" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">IoT Platform</dfn>,
            etc. is defined in <a href="https://www.w3.org/TR/wot-architecture/#terminology">Section 3</a>
            of the WoT Architecture specification [<cite><a class="bibref" data-link-type="biblio" href="#bib-wot-architecture" title="Web of Things (WoT) Architecture">WOT-ARCHITECTURE</a></cite>].
        </p>

        <p>
            In addition, this specification introduces the following definitions:
        </p>

        <dl>
            <dt>
                <dfn id="dfn-subspecification" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Binding Template Subspecification</dfn>, <dfn data-plurals="subspecifications" id="dfn-subspecification-0" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">subspecification</dfn>
            </dt>
            <dd>
                A binding template document that is published separately from this document (called the core document) that
                specifies a binding template for a protocol, payload format or platform.
                All binding template subspecifications respect the rules set in the <a href="#dfn-core-specification" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-core-specification-1">Core Specification</a>.
            </dd>
            <dt>
                <dfn id="dfn-corespecification" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Binding Template Core Specification</dfn>, <dfn id="dfn-core-specification" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Core Specification</dfn>
            </dt>
            <dd>
                This document.
                All binding template subspecifications respect the rules set in the Core Specification.
            </dd>
        </dl>

    </section>

    <section id="binding-overview"><div class="header-wrapper"><h2 id="x4-binding-template-mechanisms"><bdi class="secno">4. </bdi>Binding Template Mechanisms</h2><a class="self-link" href="#binding-overview" aria-label="Permalink for Section 4."></a></div>
        

        <p>
            TDs can be bound to specific protocols, payload formats and platforms.
            This is possible through the three core mechanisms that allow WoT to be used in various domains and scenarios.
            This section explains how these binding mechanism types are structured, should be specified, and links to
            corresponding binding documents (subspecifications).
            These 3 types of mechanisms are:
        </p>
        <ul>
            <li> <b>Protocols</b>: Application layer protocols (e.g., HTTP[<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7231" title="Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content">RFC7231</a></cite>], CoAP[<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7252" title="The Constrained Application Protocol (CoAP)">RFC7252</a></cite>],
                MQTT[<cite><a class="bibref" data-link-type="biblio" href="#bib-mqtt" title="MQTT Version 5.0">MQTT</a></cite>], etc.) whose different message types are mapped to the WoT Thing
                Description[<cite><a class="bibref" data-link-type="biblio" href="#bib-wot-thing-description" title="Web of Things (WoT) Thing Description">WOT-THING-DESCRIPTION</a></cite>] forms via reusable vocabulary and extensions.</li>
            <li> <b>Payloads</b>: Different payload formats and media types [<cite><a class="bibref" data-link-type="biblio" href="#bib-iana-media-types" title="Media Types">IANA-MEDIA-TYPES</a></cite>] which
                can be represented in a TD via Data Schemas or forms.</li>
            <li> <b>Platforms</b>: Platforms and frameworks who combine the use of protocols and payloads
                in a certain way, which can be represented via entire Thing Models described by the [<cite><a class="bibref" data-link-type="biblio" href="#bib-wot-thing-description" title="Web of Things (WoT) Thing Description">WOT-THING-DESCRIPTION</a></cite>]
                or examples of TDs.</li>
        </ul>
        
        <p>
            Each <a href="#dfn-subspecification" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-subspecification-1">Binding Template Subspecification</a> is an independent document that has a separate list of authors and
            publication date.
            This document, called the <a href="#dfn-corespecification" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-corespecification-1">Binding Template Core Specification</a>, explains the binding mechanism by
            giving requirements per respective binding category and links to the respective subspecification.
            These can be found in sections <a href="#protocol-bindings" data-matched-text="[[[#protocol-bindings]]]" class="sec-ref"><bdi class="secno">4.1 </bdi>Protocol Binding Templates</a>, <a href="#payload-bindings-intro" data-matched-text="[[[#payload-bindings-intro]]]" class="sec-ref"><bdi class="secno">4.2.1 </bdi>Introduction to Payload Binding Templates</a> and
            <a href="#platform-bindings-intro" data-matched-text="[[[#platform-bindings-intro]]]" class="sec-ref"><bdi class="secno">4.3.1 </bdi>Introduction to Platform Binding Templates</a>.
        </p>
    
        <figure id="fig-overview">
            <img src="images/binding-templates-overview.drawio.svg" alt="Binding Templates Overview and the relationships between each document type">
            <figcaption><a class="self-link" href="#fig-overview">Figure <bdi class="figno">3</bdi></a> <span class="fig-title">Binding Templates Overview and the Relationships between each Document Type</span></figcaption>
        </figure>
    
        <p>
            Each Protocol and Payload Binding Template is specified in a way that they stay independent from each other.
            This means that each document can be read independently from the other and can be also developed independently.
            However, Platform Binding Templates are dependent on the Protocol and Payload Binding Templates, since a given
            platform uses different protocols and payload formats that need to be specified first in their respective
            binding templates and referred to within a Platform Binding Template.
        </p>

        <section id="protocol-bindings"><div class="header-wrapper"><h3 id="x4-1-protocol-binding-templates"><bdi class="secno">4.1 </bdi>Protocol Binding Templates</h3><a class="self-link" href="#protocol-bindings" aria-label="Permalink for Section 4.1"></a></div>
            
            <section id="protocol-bindings-intro"><div class="header-wrapper"><h4 id="x4-1-1-introduction-to-protocol-binding-templates"><bdi class="secno">4.1.1 </bdi>Introduction to Protocol Binding Templates</h4><a class="self-link" href="#protocol-bindings-intro" aria-label="Permalink for Section 4.1.1"></a></div>
                
                <p>
                    [<cite><a class="bibref" data-link-type="biblio" href="#bib-wot-thing-description" title="Web of Things (WoT) Thing Description">WOT-THING-DESCRIPTION</a></cite>] defines abstract operations such as <code>readproperty</code>, <code>invokeaction</code> and
                    <code>subscribeevent</code> that describe the intended semantics of performing the operation described
                    by the form in a <a href="#dfn-thing-description" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-description-2">Thing Description</a>.
                    In order for the operations to be performed on the affordance, a binding of the operation to the
                    protocol needs to happen.
                    In other words, the form needs to contain all the information for a Consumer to, for example read a property,
                    with the protocol in the form.
                </p>
                <p>
                    Most protocols have a relatively small set of methods that define the message type, the semantic
                    intention of the message.
                    REST and PubSub architecture patterns result in different protocols with different methods.
                    Each target protocol may specify different method names for similar operations, and there may be
                    semantic differences between similar method names of different protocols.
                    Additionally, <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-1">Things</a> may use different methods for performing a particular WoT operation.
                    For example, an HTTP POST request may be used for a <code>writeproperty</code> operation in one Thing,
                    while HTTP PUT may be used in another.
                    For these reasons, Thing Descriptions require the ability to specify which method to use per operation.
                </p>
                <p>
                    Common methods found in REST and PubSub protocols are GET, PUT, POST, DELETE, PUBLISH, and SUBSCRIBE.
                    Binding Templates describe how these existing methods and associated vocabularies can be used in
                    a <a href="#dfn-thing-description" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-description-3">Thing Description</a> to bind to the WoT operations.
                    This is done by defining the URI scheme of the protocol and mapping the protocol
                    methods to the abstract WoT operations such as <code>readproperty</code>, <code>invokeaction</code> and
                    <code>subscribeevent</code>.
                    In some cases, additional instructions are provided to explain how the vocabulary terms should be used
                    in different cases of protocol usage.
                </p>
                <p>
                    The examples below show the binding of the <code>readproperty</code> operation for the HTTP and Modbus protocols.
                    Please note that these are examples and please always refer to the corresponding binding to learn about the
                    relevant vocabulary terms and their values.
                </p>
                <table>
                    <tbody>
                        <tr>
                            <td style="vertical-align: top; width: 50%">
                                <div class="example" id="example-binding-example-of-a-readproperty-operation-to-http">
        <div class="marker">
    <a class="self-link" href="#example-binding-example-of-a-readproperty-operation-to-http">Example<bdi> 1</bdi></a><span class="example-title">: Binding example of a readproperty operation to HTTP</span>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"http://example.com/props/temperature"</span>,
    <span class="hljs-attr">"op"</span>: <span class="hljs-string">"readproperty"</span>,
    <span class="hljs-attr">"htv:methodName"</span>: <span class="hljs-string">"GET"</span>
}</code></pre>
      </div>
                            </td>
                            <td style="vertical-align: top; width: 50%">
                                <div class="example" id="example-binding-example-of-a-readproperty-operation-to-modbus">
        <div class="marker">
    <a class="self-link" href="#example-binding-example-of-a-readproperty-operation-to-modbus">Example<bdi> 2</bdi></a><span class="example-title">: Binding example of a readproperty operation to Modbus</span>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"modbus+tcp://127.0.0.1:60000/1"</span>,
    <span class="hljs-attr">"op"</span>: <span class="hljs-string">"readproperty"</span>,
    <span class="hljs-attr">"modbus:function"</span>: <span class="hljs-string">"readCoil"</span>,
    <span class="hljs-attr">"modbus:address"</span>: <span class="hljs-number">1</span>
}</code></pre>
      </div>
                            </td>
                        </tr>
                    </tbody>
                </table>

                <p>
                    The form elements in the examples above convey the following statements:
                </p>
                <ul>
                    <li>
                        Left Example: To do a <code>readproperty</code> of the subject Property Affordance by
                        performing an HTTP GET request on the resource <code>props/temperature</code> to the host
                        at <code>example.com</code> on port <code>80</code> (Port 80 is assumed as per [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc2616" title="Hypertext Transfer Protocol -- HTTP/1.1">RFC2616</a></cite>]).
                    </li>
                    <li>
                        Right Example: To do a <code>readproperty</code> of the subject Property Affordance using the
                        <code>readCoil</code> function of Modbus at coil <code>1</code> of the device
                        with the <code>127.0.0.1</code> address at its port <code>60000</code>
                    </li>
                </ul>
                <p>
                    These bindings and their statements are possible for other operations and protocols as well.
                    Below are examples for <code>invokeaction</code> and <code>subscribeevent</code>:
                </p>

                <table>
                    <tbody>
                        <tr>
                            <td style="vertical-align: top; width: 50%">
                                <div class="example" id="example-binding-example-of-an-invokeaction-operation-to-http">
        <div class="marker">
    <a class="self-link" href="#example-binding-example-of-an-invokeaction-operation-to-http">Example<bdi> 3</bdi></a><span class="example-title">: Binding example of an invokeaction operation to HTTP</span>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"op"</span>: <span class="hljs-string">"invokeaction"</span>,
    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"http://192.168.1.32:8081/example/levelaction"</span>,
    <span class="hljs-attr">"htv:methodName"</span>: <span class="hljs-string">"POST"</span>
}</code></pre>
      </div>
                            </td>
                            <td style="vertical-align: top; width: 50%">
                                <div class="example" id="example-binding-example-of-a-subscribeevent-operation-to-mqtt">
        <div class="marker">
    <a class="self-link" href="#example-binding-example-of-a-subscribeevent-operation-to-mqtt">Example<bdi> 4</bdi></a><span class="example-title">: Binding example of a subscribeevent operation to MQTT</span>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"op"</span>: <span class="hljs-string">"subscribeevent"</span>,
    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"mqtt://iot.platform.com:8088"</span>,
    <span class="hljs-attr">"mqv:filter"</span>: <span class="hljs-string">"thing1/events/overheating"</span>,
    <span class="hljs-attr">"mqv:controlPacket"</span>: <span class="hljs-string">"subscribe"</span>
}</code></pre>
      </div>
                            </td>
                        </tr>
                    </tbody>
                </table>

                <p>
                    The form elements in the examples above convey the following statements:
                </p>
                <ul>
                    <li>
                        Left Example: To do an <code>invokeaction</code> of the subject Action Affordance by
                        performing an HTTP POST request on the resource <code>example/levelaction</code> to the host
                        at <code>192.168.1.32</code> on port <code>8081</code>.
                    </li>
                    <li>
                        Right Example: To do a <code>subscribeevent</code> of the subject Event Affordance by connecting
                        to the MQTT broker at <code>iot.platform.com</code> and port <code>8088</code>, then subscribing
                        to the topic <code>thing1/events/overheating</code>.
                    </li>
                </ul>
                

                <p>
                    In some cases, header options or other parameters of the protocols need to be included.
                    Given that these are highly protocol dependent, please refer to the bindings listed in <a href="#protocol-bindings-table" data-matched-text="[[[#protocol-bindings-table]]]" class="sec-ref"><bdi class="secno">4.1.3 </bdi>Existing Protocol Binding Templates</a>.
                    Additionally, protocols may have defined Subprotocols that can be used for some interaction types.
                    For example, to receive asynchronous notifications using HTTP, some servers may support long polling
                     (<code>longpoll</code>), WebSub [<cite><a class="bibref" data-link-type="biblio" href="#bib-websub" title="WebSub">WebSub</a></cite>] (<code>websub</code>) and Server-Sent Events [<cite><a class="bibref" data-link-type="biblio" href="#bib-eventsource" title="Server-Sent Events">eventsource</a></cite>] (<code>sse</code>).
                </p>

                <section id="subprotocols"><div class="header-wrapper"><h5 id="x4-1-1-1-subprotocols"><bdi class="secno">4.1.1.1 </bdi>Subprotocols</h5><a class="self-link" href="#subprotocols" aria-label="Permalink for Section 4.1.1.1"></a></div>
                    

                    <p>
                        As defined in  [<cite><a class="bibref" data-link-type="biblio" href="#bib-wot-architecture" title="Web of Things (WoT) Architecture">WOT-ARCHITECTURE</a></cite>], a subprotocol is an extension mechanism to a protocol.
                        A subprotocol can require a sequence of protocol messages or a specific structure of message payloads,
                        which can have its own semantics within that subprotocol.
                        The use of a subprotocol is expressed with the <code>subprotocol</code> field, as defined in
                        [<cite><a class="bibref" data-link-type="biblio" href="#bib-wot-thing-description" title="Web of Things (WoT) Thing Description">WOT-THING-DESCRIPTION</a></cite>].
                        It can be used in a form instance to indicate the use of one of these protocols, for example long polling with its
                        special use of HTTP:
                    </p>

                    <div class="example" id="example-subprotocol-usage-for-subscribing-events">
        <div class="marker">
    <a class="self-link" href="#example-subprotocol-usage-for-subscribing-events">Example<bdi> 5</bdi></a><span class="example-title">: Subprotocol usage for subscribing events</span>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"op"</span>: <span class="hljs-string">"subscribeevent"</span>,
    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://mylamp.example.com/overheating"</span>,
    <span class="hljs-attr">"subprotocol"</span>: <span class="hljs-string">"longpoll"</span>
}</code></pre>
      </div>
                   
                    <p>
                        The values that the <code>subprotocol</code> term can take is not constrained by the [<cite><a class="bibref" data-link-type="biblio" href="#bib-wot-thing-description" title="Web of Things (WoT) Thing Description">WOT-THING-DESCRIPTION</a></cite>]
                        since different protocols can have different subprotocols.
                        Correspondingly, subprotocols are linked to the protocol they are extending and should be understood together with 
                        the protocol indicated in <code>href</code> of the forms (or the <code>base</code>).
                        For WebSockets, the IANA-registered Websocket Subprotocols [<cite><a class="bibref" data-link-type="biblio" href="#bib-iana-web-socket-registry" title="IANA Registry for Websocket Subprotocols">iana-web-socket-registry</a></cite>] may be used.
                        For CoAP, <code>"subprotocol":"cov:observe"</code> can be used to describe asynchronous observation
                        operations as defined by [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc6741" title="Identifier-Locator Network Protocol (ILNP) Engineering Considerations">RFC6741</a></cite>].
                        The subprotocols can be defined and explained as a part of a protocol or platform binding subspecification.
                    </p>
                </section>

            </section>

            <section id="terms-specified-by-protocol-binding-templates"><div class="header-wrapper"><h4 id="x4-1-2-terms-specified-by-protocol-binding-templates"><bdi class="secno">4.1.2 </bdi>Terms Specified by Protocol Binding Templates</h4><a class="self-link" href="#terms-specified-by-protocol-binding-templates" aria-label="Permalink for Section 4.1.2"></a></div>
                
                <p>
                    Overall, a protocol binding template specifies the values and structure of certain vocabulary terms in a TD.
                    The table below lists the vocabulary term, the class it belongs to and whether the subspecification is required
                    to
                    specify the values the term can take.
                    In addition to these, additional terms for describing protocol options are typically added.
                </p>
            
                <table class="def numbered" id="table-protocol-terms">
                    <caption><a class="self-link" href="#table-protocol-terms">Table <bdi class="tableno">1</bdi></a> <span class="table-title">Terms specified by Protocol Binding Templates</span></caption>
                    <thead>
                        <tr>
                            <th>Vocabulary Term</th>
                            <th>Class</th>
                            <th>Specification Requirement</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>@context</td>
                            <td>Thing</td>
                            <td>mandatory</td>
                        </tr>
                        <tr>
                            <td>href</td>
                            <td>Form</td>
                            <td>mandatory</td>
                        </tr>
                        <tr>
                            <td>subprotocol</td>
                            <td>Form</td>
                            <td>optional</td>
                        </tr>
                        <tr>
                            <td>contentType</td>
                            <td>Form</td>
                            <td>optional</td>
                        </tr>
                        <tr>
                            <td>contentType</td>
                            <td>ExpectedResponse</td>
                            <td>optional</td>
                        </tr>
                        <tr>
                            <td>contentType</td>
                            <td>AdditionalExpectedResponse</td>
                            <td>optional</td>
                        </tr>
                        <tr>
                            <td>contentCoding</td>
                            <td>Form</td>
                            <td>optional</td>
                        </tr>
            
                    </tbody>
                </table>
            </section>

            <section id="protocol-bindings-table"><div class="header-wrapper"><h4 id="x4-1-3-existing-protocol-binding-templates"><bdi class="secno">4.1.3 </bdi>Existing Protocol Binding Templates</h4><a class="self-link" href="#protocol-bindings-table" aria-label="Permalink for Section 4.1.3"></a></div>
                
                <p>
                    The table below summarizes the currently specified protocols in their respective <a href="#dfn-subspecification" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-subspecification-2">Binding Template Subspecification</a>.
                </p>
                <table class="def numbered" id="table-existing-protocol-binding-templates">
                    <caption><a class="self-link" href="#table-existing-protocol-binding-templates">Table <bdi class="tableno">2</bdi></a> <span class="table-title">Existing Protocol Binding Templates</span></caption>
                    <thead>
                        <tr>
                            <th>Abbreviation</th>
                            <th>Name</th>
                            <th>Link to Binding Template</th>
                            <th>Link to Ontology</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>HTTP</td>
                            <td>Hypertext Transfer Protocol</td>
                            <td><a href="https://w3c.github.io/wot-binding-templates/bindings/protocols/http/index.html">Binding Template</a></td>
                            <td><a href="https://www.w3.org/TR/HTTP-in-RDF10/">Ontology</a></td>
                        </tr>
                        <tr>
                            <td>CoAP</td>
                            <td>Constrained Application Protocol</td>
                            <td><a href="https://w3c.github.io/wot-binding-templates/bindings/protocols/coap/index.html">Binding Template</a></td>
                            <td><a href="https://w3c.github.io/wot-binding-templates/bindings/protocols/coap/ontology.html">Ontology</a></td>
                        </tr>
                        <tr>
                            <td>MQTT</td>
                            <td>Message Queuing Telemetry Transport</td>
                            <td><a href="https://w3c.github.io/wot-binding-templates/bindings/protocols/mqtt/index.html">Binding Template</a></td>
                            <td><a href="https://w3c.github.io/wot-binding-templates/bindings/protocols/mqtt/ontology.html">Ontology</a></td>
                        </tr>
                        <tr>
                            <td>Modbus</td>
                            <td>Modbus</td>
                            <td><a href="https://w3c.github.io/wot-binding-templates/bindings/protocols/modbus/index.html">Binding Template</a></td>
                            <td><a href="https://w3c.github.io/wot-binding-templates/bindings/protocols/modbus/ontology.html">Ontology</a></td>
                        </tr>
                    </tbody>
                </table>
            </section>
            <section id="using-a-thing-description-with-a-protocol-binding-template-subspecification"><div class="header-wrapper"><h4 id="x4-1-4-using-a-thing-description-with-a-protocol-binding-template-subspecification"><bdi class="secno">4.1.4 </bdi>Using a Thing Description with a Protocol Binding Template Subspecification</h4><a class="self-link" href="#using-a-thing-description-with-a-protocol-binding-template-subspecification" aria-label="Permalink for Section 4.1.4"></a></div>
                

                <p>
                    Protocol Binding Templates contain vocabularies that extend the vocabulary found in the [<cite><a class="bibref" data-link-type="biblio" href="#bib-wot-thing-description" title="Web of Things (WoT) Thing Description">WOT-THING-DESCRIPTION</a></cite>].
                    This means that the way a TD is consumed and how the interactions happen with the Thing are adapted to such vocabularies.
                    The steps below explain how this process typically looks like.
                    
                </p>
                <ol>
                    <li>
                        <b>Detect the protocol:</b> Upon the activation of a form to execute the operation, the <a href="#dfn-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-consumer-2">Consumer</a>
                        <em class="rfc2119">SHOULD</em> look at the <code>href</code> member and the <code>base</code> (if exists) and identify the protocol.
                    </li>
                    <li>
                        <b>Choose the correct protocol stack:</b> The <a href="#dfn-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-consumer-3">Consumer</a> <em class="rfc2119">SHOULD</em> use choose the correct protocol from its protocol software stacks.
                    </li>
                    <li>
                        <b>Validate the forms part of the TD</b>: Using the JSON Schema instances provided in the respective subspecification or through programmatically checking key value pairs, the <a href="#dfn-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-consumer-4">Consumer</a> <em class="rfc2119">MAY</em> validate the respective form terms in order to verify they are correctly specified in the TD instance.
                    </li>
                    <li>
                        <b>Start communication:</b> The <a href="#dfn-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-consumer-5">Consumer</a> <em class="rfc2119">SHOULD</em> send requests for the chosen operation as specified by the form and additional behavior that is expected.
                        These are specified using the different form terms such as <code>subprotocol</code> or other vocabulary terms introduced by the protocol binding. 
                        The interaction affordance data exchanged with the Thing <em class="rfc2119">SHOULD</em> be according to the <a href="#dfn-data-schema" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-data-schema-1">Data Schema</a> and <a href="#dfn-content-type" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-content-type-1">Content Type</a> present in the TD. 
                        The corresponding Data Schema to the operation can be found in the [<cite><a class="bibref" data-link-type="biblio" href="#bib-wot-thing-description" title="Web of Things (WoT) Thing Description">WOT-THING-DESCRIPTION</a></cite>], table called <i>Mapping op Values to Data Schemas</i>.
                    </li>
                </ol>
                
            </section>
            <section id="creating-a-new-protocol-binding-template-subspecification"><div class="header-wrapper"><h4 id="x4-1-5-creating-a-new-protocol-binding-template-subspecification"><bdi class="secno">4.1.5 </bdi>Creating a new Protocol Binding Template Subspecification</h4><a class="self-link" href="#creating-a-new-protocol-binding-template-subspecification" aria-label="Permalink for Section 4.1.5"></a></div>
                

                <p>
                    When creating a new protocol binding template <a href="#dfn-subspecification-0" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-subspecification-0-2">subspecification</a>, e.g. based on a new communication protocol,
                    the proposed document should enable implementations of this binding in an interoperable way for
                    Consumer and Producer implementations.
                    More specifically, each <a href="#dfn-subspecification" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-subspecification-3">Binding Template Subspecification</a> <em class="rfc2119">MUST</em> specify the following:
                </p>
                <ul>
                    <li>
                        <b>URI Scheme:</b> For identification of the used protocol, a standardized URI scheme
                        [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>] value <em class="rfc2119">MUST</em> be declared in the form of a string. This URI Scheme is used in TDs at
                        top level <code>base</code> or in the <code>href</code> term of the <code>forms</code>
                        container. These can be officially registered ones at IANA [<cite><a class="bibref" data-link-type="biblio" href="#bib-iana-uri-schemes" title="Uniform Resource Identifier (URI) Schemes">iana-uri-schemes</a></cite>] (e.g.
                        <code>"https://"</code>, <code>"coap://"</code>) or they can be declared in the protocol
                        subspecification (e.g. <code>"mqtt://"</code>, <code>"modbus+tcp://"</code>). How the full URI
                        can be constructed for different affordances (or resources) <em class="rfc2119">MUST</em> be specified as well.
                    </li>
                    <li>
                        <b><code>@context</code> Usage and Ontology:</b> A vocabulary that allows adding protocol options
                        to a Thing Description forms <em class="rfc2119">SHOULD</em> be provided to allow semantic annotations of the operations
                        with protocol specific information.
                        The prefix and IRI to be used in the <code>@context</code> in order to link to the vocabulary
                        of the protocol <em class="rfc2119">SHOULD</em> be also provided.
                        The prefix <em class="rfc2119">SHOULD</em> use the <code>v</code> suffix notation in order to avoid confusion with the URI
                        scheme of the protocol (e.g. <code>htv</code> for HTTP and <code>mqv</code> for MQTT).
                    </li>
                    <li>
                        <b>Mapping to WoT Operations:</b> Most protocols have a set of methods or verbs that adds a
                        meaning to the messages of the protocol.
                        A protocol binding template <em class="rfc2119">MUST</em> be able to map WoT operation types (<code>readproperty</code>,
                        <code>invokeaction</code>, etc.) to concrete protocol message types or methods. When specifying
                        the mapping, the mapping <em class="rfc2119">SHOULD</em> be bidirectional, i.e. it should be clear how to
                        do a <code>readproperty</code> operation with the given protocol and how an existing
                        implementation's endpoints can be mapped to a WoT operation should be also clear.
                    </li>
                    <li>
                        <b>JSON Schema:</b> A JSON Schema to validate the forms of a TD using the Protocol Binding <em class="rfc2119">SHOULD</em> be provided. This allows validation of the URI scheme and the vocabulary terms.
                        The JSON Schema instance <em class="rfc2119">SHOULD</em> follow the template provided in <a href="https://github.com/w3c/wot-binding-templates/blob/main/bindings/protocols/template.schema.json">the Binding Templates GitHub Repository.</a>
                    </li>
                    <li>
                        <b>Specification:</b> The official specification document of the protocol <em class="rfc2119">SHOULD</em> be
                        provided. This <em class="rfc2119">SHOULD</em> be a static version, i.e. the exact document used during the writing of
                        the binding that is guaranteed to not change. If this is not possible, the specification
                        should be marked with a date of access. When the specification is not publicly available and
                        cannot be linked with a static version, an editor's note should be provided in the
                        introduction, explaining how to get access to the specification.
                    </li>
                </ul>

                <p>
                    A template is also provided for new protocol binding template specifications at <a href="https://github.com/w3c/wot-binding-templates/blob/main/bindings/index.template.html">the
                        GitHub Repository.</a>
                </p>

            </section>

        </section>

        <section id="payload-bindings"><div class="header-wrapper"><h3 id="x4-2-payload-binding-templates"><bdi class="secno">4.2 </bdi>Payload Binding Templates</h3><a class="self-link" href="#payload-bindings" aria-label="Permalink for Section 4.2"></a></div>
            
            <section id="payload-bindings-intro"><div class="header-wrapper"><h4 id="x4-2-1-introduction-to-payload-binding-templates"><bdi class="secno">4.2.1 </bdi>Introduction to Payload Binding Templates</h4><a class="self-link" href="#payload-bindings-intro" aria-label="Permalink for Section 4.2.1"></a></div>
                
                <p>
                    [<cite><a class="bibref" data-link-type="biblio" href="#bib-wot-thing-description" title="Web of Things (WoT) Thing Description">WOT-THING-DESCRIPTION</a></cite>] defines two mechanisms to describe how a payload of a message over any protocol
                    can look like.
                    Firstly, media types [<cite><a class="bibref" data-link-type="biblio" href="#bib-iana-media-types" title="Media Types">IANA-MEDIA-TYPES</a></cite>] describe the serialization used for sending and receiving the data with a protocol.
                    They are represented within the <code>contentType</code> in the Forms of a TD, which is mandatory for
                    each Interaction Affordance.
                    Secondly, it defines the Data Schema concept to describe the structure of the messages, which are used
                    together with media types.
                    The combination of the two allows any message to be described in a TD, allowing correct serialization and
                    deserialization of the messages by the Thing and Consumers.
                </p>

                <p>
                    In the rest of this section at <a href="#payload-bindings-contentType" data-matched-text="[[[#payload-bindings-contentType]]]" class="sec-ref"><bdi class="secno">4.2.1.1 </bdi>Content Types</a> and <a href="#payload-bindings-dataschema" data-matched-text="[[[#payload-bindings-dataschema]]]" class="sec-ref"><bdi class="secno">4.2.1.2 </bdi>Data Schemas</a>,
                    you can find examples of how payload bindings can look like.
                    At <a href="#payload-bindings-table" data-matched-text="[[[#payload-bindings-table]]]" class="sec-ref"><bdi class="secno">4.2.3 </bdi>Existing Payload Binding Templates</a> you can find the current payload binding templates and <a href="#payload-bindings-creating" data-matched-text="[[[#payload-bindings-creating]]]" class="sec-ref"><bdi class="secno">4.2.4 </bdi>Creating a new Payload Binding Template Subspecification</a>
                    explains how new payload binding templates can be created.
                </p>
                <section id="payload-bindings-contentType"><div class="header-wrapper"><h5 id="x4-2-1-1-content-types"><bdi class="secno">4.2.1.1 </bdi>Content Types</h5><a class="self-link" href="#payload-bindings-contentType" aria-label="Permalink for Section 4.2.1.1"></a></div>
                    

                    <p>
                        Content type includes the media type and potential parameters for the media type and it enables
                         proper processing of the serialized documents.
                        This way, the messages can be exchanged in any format and allow the upper layers of an application
                        to adapt to different formats.
                        In some cases such as images, videos or any unstructured data, content type is enough to describe the
                        payload but in cases like JSON ([<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8259" title="The JavaScript Object Notation (JSON) Data Interchange Format">RFC8259</a></cite>]) a Data Schema is usually provided, like explained in <a href="#payload-bindings-dataschema" data-matched-text="[[[#payload-bindings-dataschema]]]" class="sec-ref"><bdi class="secno">4.2.1.2 </bdi>Data Schemas</a>.
                    </p>
                    <p>
                        For example, a number payload can be serialized as JSON or XML and be indicated in the <code>contentType</code>
                        of the forms with <code>application/json</code> or <code>application/xml</code>, respectively.
                        Further parametrization is possible via the plus (<code>+</code>) or the semicolon (<code>;</code>)
                        notations.
                    </p>

                    <p>
                        In the example below, you can find the form elements with content types for JSON and plain text
                         with additional parameters.
                        In this specific case, the forms describe that reading this property with <code>http</code> or
                        <code>coap</code> result in different content types.
                        For structured media types, a Data Schema is generally provided in the affordance level as
                        explained in <a href="#payload-bindings-dataschema" data-matched-text="[[[#payload-bindings-dataschema]]]" class="sec-ref"><bdi class="secno">4.2.1.2 </bdi>Data Schemas</a> and <a href="https://www.w3.org/TR/wot-thing-description/#sec-data-schema-vocabulary-definition">
                        in the Data Schema section of the TD specification</a>.
                        However, for unstructured data such as images and videos, a Data Schema is typically not available.
                    </p>

                    <div class="example" id="example-payload-binding">
        <div class="marker">
    <a class="self-link" href="#example-payload-binding">Example<bdi> 6</bdi></a><span class="example-title">: JSON and CBOR media types in forms</span>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"forms"</span>:[
    {
        <span class="hljs-attr">"href"</span>: <span class="hljs-string">"http://example.com/properties/temperature"</span>,
        <span class="hljs-attr">"op"</span>: <span class="hljs-string">"readproperty"</span>,
        <span class="hljs-attr">"contentType"</span>: <span class="hljs-string">"application/json"</span>
    },
    {
        <span class="hljs-attr">"href"</span>: <span class="hljs-string">"coap://example.com/properties/temperature"</span>,
        <span class="hljs-attr">"op"</span>: <span class="hljs-string">"readproperty"</span>,
        <span class="hljs-attr">"contentType"</span>: <span class="hljs-string">"text/plain;charset=utf-8"</span>
    }]
}</code></pre>
      </div>

                    <p>
                        Other content types can be also expressed in TDs.
                        In the list below, examples of different content type variations can be found.
                        These content types can replace the ones in <a href="#example-payload-binding" data-matched-text="[[[#example-payload-binding]]]" class="box-ref">Example<bdi> 6</bdi></a>.
                    </p>

                    <ul>
                        <li>Structured Content Types without Parametrization
                            <ul>
                                <li><code>application/json</code>: JSON [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8259" title="The JavaScript Object Notation (JSON) Data Interchange Format">RFC8259</a></cite>]</li>
                                <li><code>application/xml</code>: XML [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc5364" title="Extensible Markup Language (XML) Format Extension for Representing Copy Control Attributes in Resource Lists">RFC5364</a></cite>]</li>
                                <li><code>application/cbor</code>: CBOR [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8949" title="Concise Binary Object Representation (CBOR)">RFC8949</a></cite>]</li>
                                <li><code>text/csv</code>: CSV [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc4180" title="Common Format and MIME Type for Comma-Separated Values (CSV) Files">RFC4180</a></cite>]</li>
                            </ul>
                        </li>
                        <li>Structured Content Types with Parametrization
                            <ul>
                                <li><code>application/senml+json</code>: SenML Data serialized in JSON [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8259" title="The JavaScript Object Notation (JSON) Data Interchange Format">RFC8259</a></cite>]</li>
                                <li><code>application/senml+xml</code>: SenML Data serialized as XML</li>
                                <li><code>application/ocf+cbor</code>: OCF payload serialized in CBOR</li>
                                <li><code>text/csv;charset=utf-8</code>: CSV encoded in UTF-8 [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc4180" title="Common Format and MIME Type for Comma-Separated Values (CSV) Files">RFC4180</a></cite>]</li>
                            </ul>
                        </li>
                        <li>Unstructured Content Types
                            <ul>
                                <li><code>image/jpeg</code>: JPEG image</li>
                                <li><code>video/mp4</code>: MP4 Video</li>
                                <li><code>application/octet-stream</code>: Generic binary stream</li>
                            </ul>
                        </li>
                    </ul>
                </section>
                <section id="payload-bindings-dataschema"><div class="header-wrapper"><h5 id="x4-2-1-2-data-schemas"><bdi class="secno">4.2.1.2 </bdi>Data Schemas</h5><a class="self-link" href="#payload-bindings-dataschema" aria-label="Permalink for Section 4.2.1.2"></a></div>
                    

                    <p>
                        Data Schema, as explained in [<cite><a class="bibref" data-link-type="biblio" href="#bib-wot-thing-description" title="Web of Things (WoT) Thing Description">WOT-THING-DESCRIPTION</a></cite>], describes the structure of the messages, which are used together with media types.
                        Even though it is largely inspired by JSON Schema [<cite><a class="bibref" data-link-type="biblio" href="#bib-json-schema" title="JSON Schema: A Media Type for Describing JSON Documents">json-schema</a></cite>], it can be used for describing
                        other payload types such as [<cite><a class="bibref" data-link-type="biblio" href="#bib-xml" title="Extensible Markup Language (XML) 1.0 (Fifth Edition)">XML</a></cite>], string-encoded images, bit representations of integers, etc.
                        Data Schema <em class="rfc2119">SHOULD</em> be used in addition to the media types.
                    </p>
                    <p>
                        Depending on the case, the structure of the messages can be anything from a simple number to
                        arrays or objects with multiple levels of nesting.
                        Existing IoT Platforms and Standards have certain payload formats with variations on how the data is structured.
                        As explained in [<cite><a class="bibref" data-link-type="biblio" href="#bib-wot-thing-description" title="Web of Things (WoT) Thing Description">WOT-THING-DESCRIPTION</a></cite>], Data Schema can be used in a TD in one of the following places:
                    </p>
                    <ul>
                        <li><b>Property Affordances:</b> Each property affordance can contain terms for Data Schema
                        and describe the property values when read, observed or written to.</li>
                        <li><b>Action Affordances:</b> <code>input</code> and <code>output</code> vocabulary terms are used 
                            to provide two different schemas when data is exchanged in both directions, such as in 
                            the case of invoking an Action Affordance with input parameters and receiving status information.</li>
                        <li><b>Event Affordances:</b> <code>data</code>, <code>dataResponse</code>, <code>subscription</code>
                            and <code>cancellation</code> are used to describe the payload when the event data
                            is delivered by the Exposed Thing, the payload to reply with for event deliveries,
                                the payload needed to subscribe to the event and the payload needed to cancel receiving event
                            data from the Exposed Thing, respectively.</li>
                        <li><b>URI Variables:</b> In the Thing or Affordance level, <code>uriVariables</code> can
                        describe the data that needs to be supplied inside the request URI as a string.</li>
                    </ul>
                    
                    <p>
                        Below is an example of a simple JSON object payload with the corresponding Data Schema.
                        Examples from various IoT Platforms and Standards can be found in <a href="#sec-payload-examples" data-matched-text="[[[#sec-payload-examples]]]" class="sec-ref"><bdi class="secno">B. </bdi>Examples of Payloads and Data Schemas from IoT Platforms and Standards</a>.
                    </p>
                    <table>
                        <tbody>
                            <tr>
                                <td style="vertical-align: top; width: 50%">
                                    <div class="example" id="example-simple-json-object-payload">
        <div class="marker">
    <a class="self-link" href="#example-simple-json-object-payload">Example<bdi> 7</bdi></a><span class="example-title">: Simple JSON Object Payload</span>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"level"</span>: <span class="hljs-number">50</span>,
    <span class="hljs-attr">"time"</span>: <span class="hljs-number">10</span>
}</code></pre>
      </div>
                                </td>
                                <td style="vertical-align: top; width: 50%">
                                    <div class="example" id="example-dataschema-for-simple-json-object-payload">
        <div class="marker">
    <a class="self-link" href="#example-dataschema-for-simple-json-object-payload">Example<bdi> 8</bdi></a><span class="example-title">: DataSchema for Simple JSON Object Payload</span>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"level"</span>: {
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"integer"</span>,
            <span class="hljs-attr">"minimum"</span>: <span class="hljs-number">0</span>,
            <span class="hljs-attr">"maximum"</span>: <span class="hljs-number">255</span>
        },
        <span class="hljs-attr">"time"</span>: {
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"integer"</span>,
            <span class="hljs-attr">"minimum"</span>: <span class="hljs-number">0</span>,
            <span class="hljs-attr">"maximum"</span>: <span class="hljs-number">65535</span>
        }
    }
}</code></pre>
      </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </section>
            </section>
            <section id="terms-specified-by-payload-binding-templates"><div class="header-wrapper"><h4 id="x4-2-2-terms-specified-by-payload-binding-templates"><bdi class="secno">4.2.2 </bdi>Terms Specified by Payload Binding Templates</h4><a class="self-link" href="#terms-specified-by-payload-binding-templates" aria-label="Permalink for Section 4.2.2"></a></div>
                
                <p>
                    Overall, a payload binding template specifies the values and structure of certain vocabulary terms in a TD.
                    The table below lists the vocabulary term, the class it belongs to and whether the subspecification is required to specify the values
                    the term can take.
                    In addition to these, additional vocabulary terms can be added and restrictions to Data Schema terms can be placed.
                </p>

                <table class="def numbered" id="table-payload-terms">
                    <caption><a class="self-link" href="#table-payload-terms">Table <bdi class="tableno">3</bdi></a> <span class="table-title">Terms specified by Payload Binding Templates</span></caption>
                    <thead>
                        <tr>
                            <th>Term</th>
                            <th>Class</th>
                            <th>Specification Requirement</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>contentType</td>
                            <td>Form</td>
                            <td>mandatory</td>
                        </tr>
                        <tr>
                            <td>contentType</td>
                            <td>ExpectedResponse</td>
                            <td>optional</td>
                        </tr>
                        <tr>
                            <td>contentType</td>
                            <td>AdditionalExpectedResponse</td>
                            <td>optional</td>
                        </tr>
                        <tr>
                            <td>contentCoding</td>
                            <td>Form</td>
                            <td>optional</td>
                        </tr>

                    </tbody>
                </table>
            </section>

            <section id="payload-bindings-table"><div class="header-wrapper"><h4 id="x4-2-3-existing-payload-binding-templates"><bdi class="secno">4.2.3 </bdi>Existing Payload Binding Templates</h4><a class="self-link" href="#payload-bindings-table" aria-label="Permalink for Section 4.2.3"></a></div>
                
                The table below summarizes the currently specified payload binding templates.

                <table class="def numbered" id="table-existing-platform-binding-templates">
                    <caption><a class="self-link" href="#table-existing-platform-binding-templates">Table <bdi class="tableno">4</bdi></a> <span class="table-title">Existing Platform Binding Templates</span></caption>
                    <thead>
                        <tr>
                            <th>Abbreviation</th>
                            <th>Name</th>
                            <th>Media Type</th>
                            <th>Link</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>JSON</td>
                            <td>JavaScript Object Notation</td>
                            <td><code>application/json</code></td>
                            <td>Planned</td>
                        </tr>
                        <tr>
                            <td>XML</td>
                            <td>eXtensible Markup Language</td>
                            <td><code>application/xml</code></td>
                            <td><a href="https://w3c.github.io/wot-binding-templates/bindings/payloads/xml/index.html">Link</a> (Work in Progress)</td>
                        </tr>
                        <tr>
                            <td>text</td>
                            <td>text</td>
                            <td><code>text/plain</code></td>
                            <td>Planned</td>
                        </tr>
                        <tr>
                            <td>Unstructured Data</td>
                            <td>Unstructured Data</td>
                            <td>various</td>
                            <td>Planned</td>
                        </tr>
                    </tbody>
                </table>
            </section>

            <section id="payload-bindings-creating"><div class="header-wrapper"><h4 id="x4-2-4-creating-a-new-payload-binding-template-subspecification"><bdi class="secno">4.2.4 </bdi>Creating a new Payload Binding Template Subspecification</h4><a class="self-link" href="#payload-bindings-creating" aria-label="Permalink for Section 4.2.4"></a></div>
                

                <p>
                    Each payload binding template <a href="#dfn-subspecification-0" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-subspecification-0-3">subspecification</a>, <em class="rfc2119">SHOULD</em> contain the respective media type.
                    Ideally this media type has been registered at the IANA registry [<cite><a class="bibref" data-link-type="biblio" href="#bib-iana-media-types" title="Media Types">IANA-MEDIA-TYPES</a></cite>] with a
                    corresponding mime type (e.g. <code>application/json</code>).
                    If it is not registered, the binding document can propose a mime type.
                    Additionally, how that media type is represented in a Data Schema <em class="rfc2119">SHOULD</em> be demonstrated with examples.
                    In all cases, the following information <em class="rfc2119">SHOULD</em> be provided:
                </p>

                <ul>
                    <li>
                        <b>Specification:</b> The official specification document of the payload format <em class="rfc2119">SHOULD</em> be
                        provided. This <em class="rfc2119">SHOULD</em> be a static version, i.e. the exact document used during the writing of
                        the binding that is guaranteed to not change. If this is not possible, the specification
                        should be marked with a date of access. When the specification is not publicly available and
                        cannot be linked with a static version, an  editor's note should be provided in the
                        introduction, explaining how to get access to the specification.
                    </li>
                </ul>
                
            </section>
        </section>
        <section id="platform-bindings"><div class="header-wrapper"><h3 id="x4-3-platform-binding-templates"><bdi class="secno">4.3 </bdi>Platform Binding Templates</h3><a class="self-link" href="#platform-bindings" aria-label="Permalink for Section 4.3"></a></div>
            
            <section id="platform-bindings-intro"><div class="header-wrapper"><h4 id="x4-3-1-introduction-to-platform-binding-templates"><bdi class="secno">4.3.1 </bdi>Introduction to Platform Binding Templates</h4><a class="self-link" href="#platform-bindings-intro" aria-label="Permalink for Section 4.3.1"></a></div>
            
                <p>
                    There are already various IoT platforms on the market that allows exposing physical and virtual Things to the Internet.
                    These platforms generally require a certain use of a protocol and payload.
                    Thus, they can be seen as a combination of the <a href="#protocol-bindings" class="sec-ref"><bdi class="secno">4.1 </bdi>Protocol Binding Templates</a> and <a href="#payload-bindings" class="sec-ref"><bdi class="secno">4.2 </bdi>Payload Binding Templates</a>.
                    In these cases, the use of protocol and payload bindings needs to be supported with how they are related to each other in the specific platform.
                </p>
                
                <p>
                    For example, Things of a certain platform can require the usage of HTTP and Websockets together with certain JSON payload structures.
                    Thus, Platform Binding <a href="#dfn-subspecification-0" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-subspecification-0-4">subspecification</a>s provide Thing Models and examples of TDs that allow to semantically group multiple binding templates.
                    This allows creation of TDs for these platforms in a consistent manner and makes it easier to develop <a href="#dfn-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-consumer-6">Consumer</a>s for them.
                </p>

                <p>
                    Since Platform Binding Templates combine the usage of protocol and payload binding templates, the vocabulary terms and values they can specify
                    are the combination of vocabulary terms in <a href="#table-protocol-terms" data-matched-text="[[[#table-protocol-terms]]]" class="table-ref" title="Terms specified by Protocol Binding Templates">Table <bdi class="">1</bdi></a> and <a href="#table-payload-terms" data-matched-text="[[[#table-payload-terms]]]" class="table-ref" title="Terms specified by Payload Binding Templates">Table <bdi class="">3</bdi></a>.
                    Similarly, a Platform Binding subspecification <em class="rfc2119">SHOULD NOT</em> introduce new protocol binding templates or media types inside its own document.
                    If a Platform Binding subspecification requires the usage of protocol or media type, corresponding protocol or payload binding templates <em class="rfc2119">MUST</em> be created first.
                </p>
            </section>

            <section id="platform-bindings-table"><div class="header-wrapper"><h4 id="x4-3-2-existing-platform-binding-templates"><bdi class="secno">4.3.2 </bdi>Existing Platform Binding Templates</h4><a class="self-link" href="#platform-bindings-table" aria-label="Permalink for Section 4.3.2"></a></div>
                
                <p>
                    The table below summarizes the currently specified platform binding template <a href="#dfn-subspecification-0" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-subspecification-0-5">subspecification</a>s.
                </p>

                <table class="def">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Link</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Philips Hue</td>
                            <td>Planned</td>
                        </tr>
                        <tr>
                            <td>ECHONET</td>
                            <td>Planned</td>
                        </tr>
                        <tr>
                            <td>OPC-UA</td>
                            <td>Planned</td>
                        </tr>
                    </tbody>
                </table>
            </section>
            
            <section id="creating-a-new-platform-binding-template-subspecification"><div class="header-wrapper"><h4 id="x4-3-3-creating-a-new-platform-binding-template-subspecification"><bdi class="secno">4.3.3 </bdi>Creating a new Platform Binding Template Subspecification</h4><a class="self-link" href="#creating-a-new-platform-binding-template-subspecification" aria-label="Permalink for Section 4.3.3"></a></div>
                

                <p>
                    Depending on the platform and the variety of devices it proposes, each platform binding template
                     <a href="#dfn-subspecification-0" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-subspecification-0-6">subspecification</a> will be structured differently.
                    When the platforms offer a <i>reasonable</i> set of device types, a Thing Model for each device type
                    <em class="rfc2119">SHOULD</em> be provided.
                    In other cases, possible devices <em class="rfc2119">SHOULD</em> be generalized by providing a set of example Thing Models or
                    TDs.
                    In all cases, the following information <em class="rfc2119">SHOULD</em> be provided:
                </p>
                <ul>
                    <li>
                        <b>Protocol:</b> The protocol used by the platform <em class="rfc2119">SHOULD</em> be specified and linked to a protocol
                        binding template <a href="#dfn-subspecification-0" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-subspecification-0-7">subspecification</a> when a corresponding one exists.
                    </li>
                    <li>
                        <b>Media Type:</b> The media type used by the platform <em class="rfc2119">SHOULD</em> be specified and linked to a
                        payload binding template <a href="#dfn-subspecification-0" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-subspecification-0-8">subspecification</a> when a corresponding one exists.
                    </li>
                    <li>
                        <b>API Documentation:</b> A static link pointing to the used API Documentation or Specification
                        of the platform <em class="rfc2119">SHOULD</em> be provided. When the documentation is not publicly available and
                        cannot be included in a static version in the respective folder, an editor's note should be
                        provided in the introduction, explaining how to get access to the documentation.
                    </li>
                </ul>
            </section>
        </section>
    </section>

    <section id="binding-examples" class="informative"><div class="header-wrapper"><h2 id="x5-examples-of-thing-descriptions-with-protocol-binding-templates"><bdi class="secno">5. </bdi>Examples of Thing Descriptions with Protocol Binding Templates</h2><a class="self-link" href="#binding-examples" aria-label="Permalink for Section 5."></a></div><p><em>This section is non-normative.</em></p>
        

        <p>
            The following TD examples uses HTTP, CoAP and MQTT Protocol Binding Templates.
            These TDs have Context Extensions which assume that there is a CoAP and MQTT in RDF vocabulary similar to
            [<cite><a class="bibref" data-link-type="biblio" href="#bib-http-in-rdf10" title="HTTP Vocabulary in RDF 1.0">HTTP-in-RDF10</a></cite>] that is accessible via the namespaces <code>http://www.example.org/coap-binding#</code>
            and <code>http://www.example.org/mqtt-binding#</code>, respectively.
            Please note that the TD context at <code>"https://www.w3.org/2019/wot/td/v1"</code> already includes the [<cite><a class="bibref" data-link-type="biblio" href="#bib-http-in-rdf10" title="HTTP Vocabulary in RDF 1.0">HTTP-in-RDF10</a></cite>],
            so HTTP context extensions can be directly used and make sure to look at the Binding Template <a href="#dfn-subspecification-0" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-subspecification-0-9">subspecifications</a> to find the 
            most up-to-date vocabulary terms and examples.
        </p>
        <p>
            The context extensions we see below have the following instructions to the TD Consumer:
        </p>
        <ul>
            <li>
                <code>"htv:methodName"</code> member instructs the Consumer which HTTP method has to be applied 
                (e.g., <code>"GET"</code> for retrieving a resource or <code>"POST"</code> for sending data to a resource).
            </li>
            <li>
                <code>"cov:method"</code> member instructs the Consumer which CoAP method has to be
                applied (e.g., <code>"GET"</code> for the CoAP Method Code 0.01, <code>"POST"</code> for the CoAP Method Code
                0.02, or <code>iPATCH</code> for CoAP Method Code 0.07).
            </li>
            <li>
                <code>"mqv:controlPacket"</code> member instructs the Consumer which MQTT command has
                to be applied (e.g., <code>"subscribe"</code> for the subscribing to a topic and <code>"unsubscribe"</code> for
                unsubscribing).
            </li>
        </ul>

        <p>
            First, a TD with multiple protocols is introduced where each interaction affordance has one form with one protocol.
        </p>

        <div class="example" id="example-td-with-one-protocol-per-form">
        <div class="marker">
    <a class="self-link" href="#example-td-with-one-protocol-per-form">Example<bdi> 9</bdi></a><span class="example-title">: TD with one protocol per form</span>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: [
        <span class="hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>,
        {
            <span class="hljs-attr">"cov"</span>: <span class="hljs-string">"http://www.example.org/coap-binding#"</span>,
            <span class="hljs-attr">"mqv"</span>: <span class="hljs-string">"http://www.example.org/mqtt-binding#"</span>
        }
    ],
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"Lamp"</span>,
    <span class="hljs-attr">"id"</span>: <span class="hljs-string">"urn:dev:ops:32473-WoTLamp-1234"</span>,
    <span class="hljs-attr">"securityDefinitions"</span>: {
        <span class="hljs-attr">"nosec_sc"</span>: {
            <span class="hljs-attr">"scheme"</span>: <span class="hljs-string">"nosec"</span>
        }
    },
    <span class="hljs-attr">"security"</span>: [<span class="hljs-string">"nosec_sc"</span>],
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"switchState"</span>: {
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"boolean"</span>,
            <span class="hljs-attr">"readOnly"</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">"observable"</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">"forms"</span>: [
                {
                    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"http://example.com/light/switchstate"</span>,
                    <span class="hljs-attr">"op"</span>: <span class="hljs-string">"readproperty"</span>,
                    <span class="hljs-attr">"contentType"</span>: <span class="hljs-string">"application/json"</span>,
                    <span class="hljs-attr">"htv:methodName"</span>:<span class="hljs-string">"GET"</span>
                }
            ]
        },
        <span class="hljs-attr">"brightness"</span>: {
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span>,
            <span class="hljs-attr">"readOnly"</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">"observable"</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">"forms"</span>: [
                {
                    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"coap://example.com/light/brightness"</span>,
                    <span class="hljs-attr">"op"</span>: <span class="hljs-string">"readproperty"</span>,
                    <span class="hljs-attr">"contentType"</span>: <span class="hljs-string">"application/json"</span>,
                    <span class="hljs-attr">"cov:method"</span>: <span class="hljs-string">"GET"</span>
                }
            ]
        }
    },
    <span class="hljs-attr">"actions"</span>: {
        <span class="hljs-attr">"switchLight"</span>: {
            <span class="hljs-attr">"input"</span>:  {
                <span class="hljs-attr">"type"</span>: <span class="hljs-string">"boolean"</span>
            },
            <span class="hljs-attr">"forms"</span>: [
                {
                    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"http://example.com/switch/state"</span>,
                    <span class="hljs-attr">"op"</span>: <span class="hljs-string">"invokeaction"</span>,
                    <span class="hljs-attr">"contentType"</span>: <span class="hljs-string">"application/json"</span>,
                    <span class="hljs-attr">"htv:methodName"</span>:<span class="hljs-string">"POST"</span>
                }
            ]
        },
        <span class="hljs-attr">"setBrightness"</span>: {
            <span class="hljs-attr">"input"</span>:  {
                <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span>,
                <span class="hljs-attr">"maximum"</span>:<span class="hljs-number">255</span>
            },
            <span class="hljs-attr">"forms"</span>: [
                {
                    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"coap://example.com/light/brightness"</span>,
                    <span class="hljs-attr">"op"</span>: <span class="hljs-string">"invokeaction"</span>,
                    <span class="hljs-attr">"contentType"</span>: <span class="hljs-string">"application/json"</span>,
                    <span class="hljs-attr">"cov:method"</span>: <span class="hljs-string">"POST"</span>
                }
            ]
        }
    },
    <span class="hljs-attr">"events"</span>:{
        <span class="hljs-attr">"concentration"</span>: {
            <span class="hljs-attr">"title"</span>: <span class="hljs-string">"Gas Concentration Event Stream"</span>,
            <span class="hljs-attr">"data"</span>:{
                <span class="hljs-attr">"type"</span>: <span class="hljs-string">"integer"</span>,
                <span class="hljs-attr">"minimum"</span>: <span class="hljs-number">-1</span>,
                <span class="hljs-attr">"maximum"</span>: <span class="hljs-number">65535</span>
            },
            <span class="hljs-attr">"forms"</span>: [
                {
                    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"mqtt://broker.com"</span>,
                    <span class="hljs-attr">"contentType"</span>: <span class="hljs-string">"application/json"</span>,
                    <span class="hljs-attr">"op"</span>: <span class="hljs-string">"subscribeevent"</span>,
                    <span class="hljs-attr">"mqv:filter"</span>: <span class="hljs-string">"application/deviceid/sensor/concentration"</span>,
                    <span class="hljs-attr">"mqv:controlPacket"</span>: <span class="hljs-string">"subscribe"</span>
                }
            ]
        }
    }
}</code></pre>
      </div>

        <p>
            Another version of the previous TD with multiple protocol options per form is shown below.
            Notably, the <code>brightness</code> property can be read via HTTP and CoAP, and observed via MQTT; 
            <code>concentration</code> event can be subscribed to via CoAP and MQTT.
            In this case, the Consumer would pick the form it can support based on its internal implementation, e.g. whether 
            it has CoAP protocol stack or not.
        </p>

        <div class="example" id="example-td-with-protocol-options-and-complex-payload">
        <div class="marker">
    <a class="self-link" href="#example-td-with-protocol-options-and-complex-payload">Example<bdi> 10</bdi></a><span class="example-title">: TD with protocol options and complex payload</span>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: [
        <span class="hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>,
        {
            <span class="hljs-attr">"cov"</span>: <span class="hljs-string">"http://www.example.org/coap-binding#"</span>,
            <span class="hljs-attr">"mqv"</span>: <span class="hljs-string">"http://www.example.org/mqtt-binding#"</span>
        }
    ],
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"Lamp"</span>,
    <span class="hljs-attr">"id"</span>: <span class="hljs-string">"urn:dev:ops:32473-WoTLamp-5678"</span>,
    <span class="hljs-attr">"securityDefinitions"</span>: {
        <span class="hljs-attr">"nosec_sc"</span>: {
            <span class="hljs-attr">"scheme"</span>: <span class="hljs-string">"nosec"</span>
        }
    },
    <span class="hljs-attr">"security"</span>: [<span class="hljs-string">"nosec_sc"</span>],
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"switchState"</span>: {
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"boolean"</span>,
            <span class="hljs-attr">"readOnly"</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">"observable"</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">"forms"</span>: [
                {
                    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"http://example.com/light/switchstate"</span>,
                    <span class="hljs-attr">"op"</span>: <span class="hljs-string">"readproperty"</span>,
                    <span class="hljs-attr">"contentType"</span>: <span class="hljs-string">"application/json"</span>,
                    <span class="hljs-attr">"htv:methodName"</span>:<span class="hljs-string">"GET"</span>
                },
                {
                    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"coap://example.com/light/switchstate"</span>,
                    <span class="hljs-attr">"op"</span>: <span class="hljs-string">"readproperty"</span>,
                    <span class="hljs-attr">"contentType"</span>: <span class="hljs-string">"application/json"</span>,
                    <span class="hljs-attr">"cov:method"</span>: <span class="hljs-string">"GET"</span>
                }
            ]
        },
        <span class="hljs-attr">"brightness"</span>: {
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span>,
            <span class="hljs-attr">"readOnly"</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">"observable"</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">"forms"</span>: [
                {
                    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"http://example.com/light/switchstate"</span>,
                    <span class="hljs-attr">"op"</span>: <span class="hljs-string">"readproperty"</span>,
                    <span class="hljs-attr">"contentType"</span>: <span class="hljs-string">"application/json"</span>,
                    <span class="hljs-attr">"htv:methodName"</span>:<span class="hljs-string">"GET"</span>
                },
                {
                    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"coap://example.com/light/switchstate"</span>,
                    <span class="hljs-attr">"op"</span>: <span class="hljs-string">"readproperty"</span>,
                    <span class="hljs-attr">"contentType"</span>: <span class="hljs-string">"application/json"</span>,
                    <span class="hljs-attr">"cov:method"</span>: <span class="hljs-string">"GET"</span>
                },
                {
                    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"mqtt://broker.com"</span>,
                    <span class="hljs-attr">"mqv:filter"</span>: <span class="hljs-string">"application/deviceid/sensor/brightness"</span>,
                    <span class="hljs-attr">"op"</span>: <span class="hljs-string">"observeproperty"</span>,
                    <span class="hljs-attr">"mqv:controlPacket"</span>: <span class="hljs-string">"subscribe"</span>
                }
            ]
        }
    },
    <span class="hljs-attr">"actions"</span>: {
        <span class="hljs-attr">"switchLight"</span>: {
            <span class="hljs-attr">"input"</span>:  {
                <span class="hljs-attr">"type"</span>: <span class="hljs-string">"boolean"</span>
            },
            <span class="hljs-attr">"forms"</span>: [
                {
                    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"http://example.com/switch/state"</span>,
                    <span class="hljs-attr">"op"</span>: <span class="hljs-string">"invokeaction"</span>,
                    <span class="hljs-attr">"contentType"</span>: <span class="hljs-string">"application/json"</span>,
                    <span class="hljs-attr">"htv:methodName"</span>:<span class="hljs-string">"POST"</span>
                }
            ]
        },
        <span class="hljs-attr">"setBrightness"</span>: {
            <span class="hljs-attr">"input"</span>:  {
                <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span>,
                <span class="hljs-attr">"maximum"</span>:<span class="hljs-number">255</span>
            },
            <span class="hljs-attr">"forms"</span>: [
                {
                    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"coap://example.com/light/brightness"</span>,
                    <span class="hljs-attr">"op"</span>: <span class="hljs-string">"invokeaction"</span>,
                    <span class="hljs-attr">"contentType"</span>: <span class="hljs-string">"application/json"</span>,
                    <span class="hljs-attr">"cov:method"</span>: <span class="hljs-string">"POST"</span>
                }
            ]
        }
    },
    <span class="hljs-attr">"events"</span>:{
        <span class="hljs-attr">"concentration"</span>: {
            <span class="hljs-attr">"title"</span>: <span class="hljs-string">"Gas Concentration Event Stream"</span>,
            <span class="hljs-attr">"data"</span>:{
                <span class="hljs-attr">"type"</span>: <span class="hljs-string">"integer"</span>,
                <span class="hljs-attr">"minimum"</span>: <span class="hljs-number">-1</span>,
                <span class="hljs-attr">"maximum"</span>: <span class="hljs-number">65535</span>
            },
            <span class="hljs-attr">"forms"</span>: [
                {
                    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"mqtt://broker.com"</span>,
                    <span class="hljs-attr">"contentType"</span>: <span class="hljs-string">"application/json"</span>,
                    <span class="hljs-attr">"op"</span>: <span class="hljs-string">"subscribeevent"</span>,
                    <span class="hljs-attr">"mqv:filter"</span>: <span class="hljs-string">"application/deviceid/sensor/concentration"</span>,
                    <span class="hljs-attr">"mqv:controlPacket"</span>: <span class="hljs-string">"subscribe"</span>
                },
                {
                    <span class="hljs-attr">"cov:method"</span>: <span class="hljs-string">"GET"</span>,
                    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"coap://example.com/sensor/gasconcentration"</span>,
                    <span class="hljs-attr">"contentType"</span>: <span class="hljs-string">"application/json"</span>,
                    <span class="hljs-attr">"op"</span>: <span class="hljs-string">"subscribeevent"</span>,
                    <span class="hljs-attr">"subprotocol"</span>: <span class="hljs-string">"cov:observe"</span>
                }
            ]
        }
    }
}</code></pre>
      </div>
    </section>

    <section id="sec-security-considerations"><div class="header-wrapper"><h2 id="x6-security-and-privacy-considerations"><bdi class="secno">6. </bdi>Security and Privacy Considerations</h2><a class="self-link" href="#sec-security-considerations" aria-label="Permalink for Section 6."></a></div>
        

        <div class="note" id="issue-container-generatedID-1"><div role="heading" class="ednote-title marker" id="h-ednote-1" aria-level="3"><span>Editor's note</span></div><p class="">
            Security and privacy considerations are still under discussion and development; the content below should be
            considered preliminary.
            Due to the complexity of the subject we are considering producing a separate document containing a detailed security and privacy considerations
            discussion including a risk analysis, threat model, recommended mitigations, and appropriate references to
            best practices.
            A summary will be included here. Work in progress is located in the
            <a href="https://github.com/w3c/wot-security/">WoT Security and Privacy</a> repository.
            Please file any security or privacy considerations and/or concerns using the <a href="https://github.com/w3c/wot-security/issues">GitHub Issue</a> feature.
        </p></div>

        <p>
            Security is a cross-cutting issue that needs to be taken into account in all WoT building blocks.
            The <abbr title="World Wide Web Consortium">W3C</abbr> WoT does not define any new security mechanisms, but provides guidelines to apply the best
            practices from Web security, IoT security, and information security for general software and hardware
            considerations.
        </p>

        <p>
            The <a href="https://www.w3.org/TR/wot-architecture/#dfn-wot-thing-description">WoT
                Thing Description</a> must be used together with integrity protection mechanisms and access control
            policies.
            Users must ensure that no sensitive information is included in the <a href="https://www.w3.org/TR/wot-architecture/#dfn-td">TDs</a>
            themselves.
        </p>

        <p>
            The <a href="https://www.w3.org/TR/wot-architecture/#dfn-wot-binding-templates">WoT
                Binding Templates</a> must correctly cover the security mechanisms employed by the underlying <a href="https://www.w3.org/TR/wot-architecture/#dfn-iot-platform">IoT
                platform</a>.
            Due to the automation of network interactions necessary in the IoT, operators need to ensure that <a href="https://www.w3.org/TR/wot-architecture/#dfn-thing">Things</a>
            are exposed and consumed in a way that is compliant with their security policies.
        </p>

        <p>
            The <a href="https://www.w3.org/TR/wot-architecture/#dfn-wot-runtime">
            WoT Runtime</a> implementation for the
            <a href="https://www.w3.org/TR/wot-architecture/#dfn-wot-scripting-api">WoT
            Scripting API</a> must have mechanisms to prevent malicious access to the system and isolate scripts in
            multi-tenant <a href="https://www.w3.org/TR/wot-architecture/#dfn-servient">Servients</a>.
        </p>

    </section>

    <section id="sec-acknowledgements" class="appendix"><div class="header-wrapper"><h2 id="a-acknowledgements"><bdi class="secno">A. </bdi>Acknowledgements</h2><a class="self-link" href="#sec-acknowledgements" aria-label="Permalink for Appendix A."></a></div>
        

        <p>
            Special thanks to all active participants of the <abbr title="World Wide Web Consortium">W3C</abbr> Web of Things Interest Group and Working Group
            for their technical input and suggestions that led to improvements to this document.
        </p>

    </section>

    <section id="sec-payload-examples"><div class="header-wrapper"><h2 id="b-examples-of-payloads-and-data-schemas-from-iot-platforms-and-standards"><bdi class="secno">B. </bdi>Examples of Payloads and Data Schemas from IoT Platforms and Standards</h2><a class="self-link" href="#sec-payload-examples" aria-label="Permalink for Section B."></a></div>
        

        <p>
            As an extension of <a href="#payload-bindings-dataschema" data-matched-text="[[[#payload-bindings-dataschema]]]" class="sec-ref"><bdi class="secno">4.2.1.2 </bdi>Data Schemas</a>, this section collects examples of different payloads
            and their corresponding <code>DataSchema</code>.
            These are from well-known IoT Platforms and Standards and aim to illustrate the various ways a payload can
            look like and how one can describe it with a Data Schema.
        </p>

        <p>
            SenML [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8428" title="Sensor Measurement Lists (SenML)">RFC8428</a></cite>] might use the following construct:
        </p>

        <table>
            <tbody>
                <tr>
                    <td style="vertical-align: top; width: 50%">
                        <div class="example" id="example-senml-payload-example">
        <div class="marker">
    <a class="self-link" href="#example-senml-payload-example">Example<bdi> 11</bdi></a><span class="example-title">: SenML Payload Example</span>
  </div> <pre aria-busy="false"><code class="hljs json">[
    {
        <span class="hljs-attr">"bn"</span>: <span class="hljs-string">"/example/light/"</span>
    },
    {
        <span class="hljs-attr">"n"</span>: <span class="hljs-string">"level"</span>,
        <span class="hljs-attr">"v"</span>: <span class="hljs-number">50</span>
    },
    {
        <span class="hljs-attr">"n"</span>: <span class="hljs-string">"time"</span>,
        <span class="hljs-attr">"v"</span>: <span class="hljs-number">10</span>
    }
]</code></pre>
      </div>
                    </td>
                    <td style="vertical-align: top; width: 50%">
                        <div class="example" id="example-data-schema-for-senml-payload-example">
        <div class="marker">
    <a class="self-link" href="#example-data-schema-for-senml-payload-example">Example<bdi> 12</bdi></a><span class="example-title">: Data Schema for SenML Payload Example</span>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"array"</span>,
    <span class="hljs-attr">"items"</span>: [
    {
        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
        <span class="hljs-attr">"properties"</span>: {
            <span class="hljs-attr">"bn"</span>: {
                <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
                <span class="hljs-attr">"const"</span>: <span class="hljs-string">"example/light"</span>
            }
        }
    },
    {
        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
        <span class="hljs-attr">"properties"</span>: {
            <span class="hljs-attr">"n"</span>: {
                <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
                <span class="hljs-attr">"const"</span>: <span class="hljs-string">"level"</span>
            },
            <span class="hljs-attr">"v"</span>: {
                <span class="hljs-attr">"@type"</span>: [<span class="hljs-string">"iot:LevelData"</span>],
                <span class="hljs-attr">"type"</span>: <span class="hljs-string">"integer"</span>,
                <span class="hljs-attr">"minimum"</span>: <span class="hljs-number">0</span>,
                <span class="hljs-attr">"maximum"</span>: <span class="hljs-number">255</span>
            }
        }
    },
    {
        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
        <span class="hljs-attr">"properties"</span>: {
            <span class="hljs-attr">"n"</span>: {
                <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
                <span class="hljs-attr">"const"</span>: <span class="hljs-string">"time"</span>
            },
            <span class="hljs-attr">"v"</span>: {
                <span class="hljs-attr">"@type"</span>: [<span class="hljs-string">"iot:TransitionTimeData"</span>],
                <span class="hljs-attr">"type"</span>: <span class="hljs-string">"integer"</span>,
                <span class="hljs-attr">"minimum"</span>: <span class="hljs-number">0</span>,
                <span class="hljs-attr">"maximum"</span>: <span class="hljs-number">65535</span>
            }
        }
    }
    ]
}</code></pre>
      </div>
                    </td>
                </tr>
            </tbody>
        </table>

        <p>
            A Batch Collection according to OCF[<cite><a class="bibref" data-link-type="biblio" href="#bib-ocf" title="OCF Specification">OCF</a></cite>] may be structured like this:
        </p>

        <table>
            <tbody>
                <tr>
                    <td style="vertical-align: top; width: 50%">
                        <div class="example" id="example-ocf-batch-example">
        <div class="marker">
    <a class="self-link" href="#example-ocf-batch-example">Example<bdi> 13</bdi></a><span class="example-title">: OCF Batch Example</span>
  </div> <pre aria-busy="false"><code class="hljs json">[
{
    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"/example/light/level"</span>,
    <span class="hljs-attr">"rep"</span>: {
    <span class="hljs-attr">"dimmingSetting"</span>: <span class="hljs-number">50</span>
    }
},
{
    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"/example/light/time"</span>,
    <span class="hljs-attr">"rep"</span>: {
    <span class="hljs-attr">"rampTime"</span>: <span class="hljs-number">10</span>
    }
}
]</code></pre>
      </div>
                    </td>
                    <td style="vertical-align: top; width: 50%">
                        <div class="example" id="example-data-schema-for-ocf-batch-payload-example">
        <div class="marker">
    <a class="self-link" href="#example-data-schema-for-ocf-batch-payload-example">Example<bdi> 14</bdi></a><span class="example-title">: Data Schema for OCF Batch Payload Example</span>
  </div> <pre aria-busy="false"><code class="hljs json">{
<span class="hljs-attr">"type"</span>: <span class="hljs-string">"array"</span>,
<span class="hljs-attr">"items"</span>: [
    {
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"href"</span>: {
        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
        <span class="hljs-attr">"const"</span>: <span class="hljs-string">"/example/light/level"</span>
        },
        <span class="hljs-attr">"rep"</span>: {
        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
        <span class="hljs-attr">"properties"</span>: {
            <span class="hljs-attr">"dimmingSetting"</span>: {
            <span class="hljs-attr">"@type"</span>: [<span class="hljs-string">"iot:LevelData"</span>],
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"integer"</span>,
            <span class="hljs-attr">"minimum"</span>: <span class="hljs-number">0</span>,
            <span class="hljs-attr">"maximum"</span>: <span class="hljs-number">255</span>
            }
        }
        }
    }
    },
    {
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"href"</span>: {
        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
        <span class="hljs-attr">"const"</span>: <span class="hljs-string">"/example/light/time"</span>
        },
        <span class="hljs-attr">"rep"</span>: {
        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
        <span class="hljs-attr">"properties"</span>: {
            <span class="hljs-attr">"rampTime"</span>: {
            <span class="hljs-attr">"@type"</span>: [<span class="hljs-string">"iot:TransitionTimeData"</span>],
            <span class="hljs-attr">"type"</span>:<span class="hljs-string">"integer"</span>,
            <span class="hljs-attr">"minimum"</span>: <span class="hljs-number">0</span>,
            <span class="hljs-attr">"maximum"</span>: <span class="hljs-number">65535</span>
            }
        }
        }
    }
    }
]
}</code></pre>
      </div>
                    </td>
                </tr>
            </tbody>
        </table>

        <p>
            And an IPSO Smart Object on LWM2M [<cite><a class="bibref" data-link-type="biblio" href="#bib-lwm2m" title="Lightweight M2M">LWM2M</a></cite>] might look like the following:
        </p>

        <table>
            <tbody>
                <tr>
                    <td style="vertical-align: top; width: 50%">
                        <div class="example" id="example-ipso-lwm2m-payload-example">
        <div class="marker">
    <a class="self-link" href="#example-ipso-lwm2m-payload-example">Example<bdi> 15</bdi></a><span class="example-title">: IPSO/LWM2M Payload Example</span>
  </div> <pre aria-busy="false"><code class="hljs json">{
<span class="hljs-attr">"bn"</span>: <span class="hljs-string">"/3001/0/"</span>,
<span class="hljs-attr">"e"</span>: [
    {
    <span class="hljs-attr">"n"</span>: <span class="hljs-string">"5044"</span>,
    <span class="hljs-attr">"v"</span>: <span class="hljs-number">0.5</span>
    },
    {
    <span class="hljs-attr">"n"</span>: <span class="hljs-string">"5002"</span>,
    <span class="hljs-attr">"v"</span>: <span class="hljs-number">10.0</span>
    }
]
}</code></pre>
      </div>
                    </td>
                    <td style="vertical-align: top; width: 50%">
                        <div class="example" id="example-data-schema-for-ipso-lwm2m-payload-example">
        <div class="marker">
    <a class="self-link" href="#example-data-schema-for-ipso-lwm2m-payload-example">Example<bdi> 16</bdi></a><span class="example-title">: Data Schema for IPSO/LWM2M Payload Example</span>
  </div> <pre aria-busy="false"><code class="hljs json">{
<span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
<span class="hljs-attr">"properties"</span>: {
    <span class="hljs-attr">"bn"</span>: {
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
    <span class="hljs-attr">"const"</span>: <span class="hljs-string">"/3001/0/"</span>
    },
    <span class="hljs-attr">"e"</span>: {
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"array"</span>,
    <span class="hljs-attr">"items"</span>: [
        {
        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
        <span class="hljs-attr">"properties"</span>: {
            <span class="hljs-attr">"n"</span>: {
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
            <span class="hljs-attr">"const"</span>: <span class="hljs-string">"5044"</span>
            },
            <span class="hljs-attr">"v"</span>: {
            <span class="hljs-attr">"@type"</span>: [<span class="hljs-string">"iot:LevelData"</span>],
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span>,
            <span class="hljs-attr">"minimum"</span>: <span class="hljs-number">0.0</span>,
            <span class="hljs-attr">"maximum"</span>: <span class="hljs-number">1.0</span>
            }
        }
        },
        {
        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
        <span class="hljs-attr">"Properties"</span>: {
            <span class="hljs-attr">"n"</span>: {
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
            <span class="hljs-attr">"const"</span>: <span class="hljs-string">"5002"</span>
            },
            <span class="hljs-attr">"v"</span>: {
            <span class="hljs-attr">"@type"</span>: [<span class="hljs-string">"iot:TransitionTimeData"</span>],
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span>,
            <span class="hljs-attr">"minimum"</span>: <span class="hljs-number">0.0</span>,
            <span class="hljs-attr">"maximum"</span>: <span class="hljs-number">6553.5</span>
            }
        }
        }
    ]
    }
}
}</code></pre>
      </div>
                    </td>
                </tr>
            </tbody>
        </table>

    </section>


    <script id="dstimer">
        //<![CDATA[
        if (dschk() == 1) {
            if (typeof (dsSetTimers) != "undefined") {
                dsSetTimers(1454572750, 1454589711, 43200, 86400, 180, 1454589796 - parseInt("" + (new Date()).getTime() /
                    1000), 1);
            }
        }
        //]]>
    </script>

<script>
	// <![CDATA[  <-- For SVG support
	if ('WebSocket' in window) {
		(function () {
			function refreshCSS() {
				var sheets = [].slice.call(document.getElementsByTagName("link"));
				var head = document.getElementsByTagName("head")[0];
				for (var i = 0; i < sheets.length; ++i) {
					var elem = sheets[i];
					var parent = elem.parentElement || head;
					parent.removeChild(elem);
					var rel = elem.rel;
					if (elem.href && typeof rel != "string" || rel.length == 0 || rel.toLowerCase() == "stylesheet") {
						var url = elem.href.replace(/(&|\?)_cacheOverride=\d+/, '');
						elem.href = url + (url.indexOf('?') >= 0 ? '&' : '?') + '_cacheOverride=' + (new Date().valueOf());
					}
					parent.appendChild(elem);
				}
			}
			var protocol = window.location.protocol === 'http:' ? 'ws://' : 'wss://';
			var address = protocol + window.location.host + window.location.pathname + '/ws';
			var socket = new WebSocket(address);
			socket.onmessage = function (msg) {
				if (msg.data == 'reload') window.location.reload();
				else if (msg.data == 'refreshcss') refreshCSS();
			};
			if (sessionStorage && !sessionStorage.getItem('IsThisFirstTime_Log_From_LiveServer')) {
				console.log('Live reload enabled.');
				sessionStorage.setItem('IsThisFirstTime_Log_From_LiveServer', true);
			}
		})();
	}
	else {
		console.error('Upgrade your browser. This Browser is NOT supported WebSocket for Live-Reloading.');
	}
	// ]]>
</script>



<section id="references" class="appendix"><div class="header-wrapper"><h2 id="c-references"><bdi class="secno">C. </bdi>References</h2><a class="self-link" href="#references" aria-label="Permalink for Appendix C."></a></div><section id="normative-references"><div class="header-wrapper"><h3 id="c-1-normative-references"><bdi class="secno">C.1 </bdi>Normative references</h3><a class="self-link" href="#normative-references" aria-label="Permalink for Appendix C.1"></a></div>
    
    <dl class="bibliography"><dt id="bib-eventsource">[eventsource]</dt><dd>
      <a href="https://www.w3.org/TR/eventsource/"><cite>Server-Sent Events</cite></a>. Ian Hickson.  W3C. 28 January 2021. W3C Recommendation. URL: <a href="https://www.w3.org/TR/eventsource/">https://www.w3.org/TR/eventsource/</a>
    </dd><dt id="bib-iana-media-types">[IANA-MEDIA-TYPES]</dt><dd>
      <a href="https://www.iana.org/assignments/media-types/"><cite>Media Types</cite></a>.  IANA. URL: <a href="https://www.iana.org/assignments/media-types/">https://www.iana.org/assignments/media-types/</a>
    </dd><dt id="bib-iana-uri-schemes">[iana-uri-schemes]</dt><dd>
      <a href="https://www.iana.org/assignments/uri-schemes/uri-schemes.xhtml"><cite>Uniform Resource Identifier (URI) Schemes</cite></a>.  IANA. 21 July 2021. URL: <a href="https://www.iana.org/assignments/uri-schemes/uri-schemes.xhtml">https://www.iana.org/assignments/uri-schemes/uri-schemes.xhtml</a>
    </dd><dt id="bib-iana-web-socket-registry">[iana-web-socket-registry]</dt><dd>
      <a href="https://www.iana.org/assignments/websocket/websocket.xml#subprotocol-name"><cite>IANA Registry for Websocket Subprotocols</cite></a>.  IANA. 24 May 2019. URL: <a href="https://www.iana.org/assignments/websocket/websocket.xml#subprotocol-name">https://www.iana.org/assignments/websocket/websocket.xml#subprotocol-name</a>
    </dd><dt id="bib-json-schema">[json-schema]</dt><dd>
      <a href="https://datatracker.ietf.org/doc/html/draft-bhutton-json-schema"><cite>JSON Schema: A Media Type for Describing JSON Documents</cite></a>. Austin Wright; Henry Andrews; Ben Hutton; Greg Dennis.  Internet Engineering Task Force (IETF). 8 December 2020. Internet-Draft. URL: <a href="https://datatracker.ietf.org/doc/html/draft-bhutton-json-schema">https://datatracker.ietf.org/doc/html/draft-bhutton-json-schema</a>
    </dd><dt id="bib-lwm2m">[LWM2M]</dt><dd>
      <a href="https://www.omaspecworks.org/what-is-oma-specworks/iot/lightweight-m2m-lwm2m/"><cite>Lightweight M2M</cite></a>.  Open Mobility Alliance. URL: <a href="https://www.omaspecworks.org/what-is-oma-specworks/iot/lightweight-m2m-lwm2m/">https://www.omaspecworks.org/what-is-oma-specworks/iot/lightweight-m2m-lwm2m/</a>
    </dd><dt id="bib-ocf">[OCF]</dt><dd>
      <a href="https://openconnectivity.org/developer/specifications/"><cite>OCF Specification</cite></a>.  Open Connectivity Foundation. Last accessed: February 2020. URL: <a href="https://openconnectivity.org/developer/specifications/">https://openconnectivity.org/developer/specifications/</a>
    </dd><dt id="bib-rfc2119">[RFC2119]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. S. Bradner.  IETF. March 1997. Best Current Practice. URL: <a href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>
    </dd><dt id="bib-rfc2616">[RFC2616]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc2616"><cite>Hypertext Transfer Protocol -- HTTP/1.1</cite></a>. R. Fielding; J. Gettys; J. Mogul; H. Frystyk; L. Masinter; P. Leach; T. Berners-Lee.  IETF. June 1999. Draft Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc2616">https://www.rfc-editor.org/rfc/rfc2616</a>
    </dd><dt id="bib-rfc3986">[RFC3986]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc3986"><cite>Uniform Resource Identifier (URI): Generic Syntax</cite></a>. T. Berners-Lee; R. Fielding; L. Masinter.  IETF. January 2005. Internet Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc3986">https://www.rfc-editor.org/rfc/rfc3986</a>
    </dd><dt id="bib-rfc4180">[RFC4180]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc4180"><cite>Common Format and MIME Type for Comma-Separated Values (CSV) Files</cite></a>. Y. Shafranovich.  IETF. October 2005. Informational. URL: <a href="https://www.rfc-editor.org/rfc/rfc4180">https://www.rfc-editor.org/rfc/rfc4180</a>
    </dd><dt id="bib-rfc5364">[RFC5364]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc5364"><cite>Extensible Markup Language (XML) Format Extension for Representing Copy Control Attributes in Resource Lists</cite></a>. M. Garcia-Martin; G. Camarillo.  IETF. October 2008. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc5364">https://www.rfc-editor.org/rfc/rfc5364</a>
    </dd><dt id="bib-rfc6741">[RFC6741]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc6741"><cite>Identifier-Locator Network Protocol (ILNP) Engineering Considerations</cite></a>. RJ Atkinson; SN Bhatti.  IETF. November 2012. Experimental. URL: <a href="https://www.rfc-editor.org/rfc/rfc6741">https://www.rfc-editor.org/rfc/rfc6741</a>
    </dd><dt id="bib-rfc8174">[RFC8174]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc8174"><cite>Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words</cite></a>. B. Leiba.  IETF. May 2017. Best Current Practice. URL: <a href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>
    </dd><dt id="bib-rfc8259">[RFC8259]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc8259"><cite>The JavaScript Object Notation (JSON) Data Interchange Format</cite></a>. T. Bray, Ed..  IETF. December 2017. Internet Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc8259">https://www.rfc-editor.org/rfc/rfc8259</a>
    </dd><dt id="bib-rfc8428">[RFC8428]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc8428"><cite>Sensor Measurement Lists (SenML)</cite></a>. C. Jennings; Z. Shelby; J. Arkko; A. Keranen; C. Bormann.  IETF. August 2018. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc8428">https://www.rfc-editor.org/rfc/rfc8428</a>
    </dd><dt id="bib-rfc8949">[RFC8949]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc8949"><cite>Concise Binary Object Representation (CBOR)</cite></a>. C. Bormann; P. Hoffman.  IETF. December 2020. Internet Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc8949">https://www.rfc-editor.org/rfc/rfc8949</a>
    </dd><dt id="bib-websub">[WebSub]</dt><dd>
      <a href="https://www.w3.org/TR/websub/"><cite>WebSub</cite></a>. Julien Genestoux; Aaron Parecki.  W3C. 23 January 2018. W3C Recommendation. URL: <a href="https://www.w3.org/TR/websub/">https://www.w3.org/TR/websub/</a>
    </dd><dt id="bib-wot-architecture">[WOT-ARCHITECTURE]</dt><dd>
      <a href="https://www.w3.org/TR/wot-architecture/"><cite>Web of Things (WoT) Architecture</cite></a>. Matthias Kovatsch; Ryuichi Matsukura; Michael Lagally; Toru Kawaguchi; Kunihiko Toumura; Kazuo Kajimoto.  W3C. 9 April 2020. W3C Recommendation. URL: <a href="https://www.w3.org/TR/wot-architecture/">https://www.w3.org/TR/wot-architecture/</a>
    </dd><dt id="bib-wot-thing-description">[WOT-THING-DESCRIPTION]</dt><dd>
      <a href="https://www.w3.org/TR/wot-thing-description/"><cite>Web of Things (WoT) Thing Description</cite></a>. Sebastian Käbisch; Takuki Kamiya; Michael McCool; Victor Charpenay; Matthias Kovatsch.  W3C. 9 April 2020. W3C Recommendation. URL: <a href="https://www.w3.org/TR/wot-thing-description/">https://www.w3.org/TR/wot-thing-description/</a>
    </dd><dt id="bib-xml">[XML]</dt><dd>
      <a href="https://www.w3.org/TR/xml/"><cite>Extensible Markup Language (XML) 1.0 (Fifth Edition)</cite></a>. Tim Bray; Jean Paoli; Michael Sperberg-McQueen; Eve Maler; François Yergeau et al.  W3C. 26 November 2008. W3C Recommendation. URL: <a href="https://www.w3.org/TR/xml/">https://www.w3.org/TR/xml/</a>
    </dd></dl>
  </section><section id="informative-references"><div class="header-wrapper"><h3 id="c-2-informative-references"><bdi class="secno">C.2 </bdi>Informative references</h3><a class="self-link" href="#informative-references" aria-label="Permalink for Appendix C.2"></a></div>
    
    <dl class="bibliography"><dt id="bib-http-in-rdf10">[HTTP-in-RDF10]</dt><dd>
      <a href="https://www.w3.org/TR/HTTP-in-RDF10/"><cite>HTTP Vocabulary in RDF 1.0</cite></a>. Johannes Koch; Carlos A. Velasco; Philip Ackermann.  W3C. 2 February 2017. W3C Working Group Note. URL: <a href="https://www.w3.org/TR/HTTP-in-RDF10/">https://www.w3.org/TR/HTTP-in-RDF10/</a>
    </dd><dt id="bib-mqtt">[MQTT]</dt><dd>
      <a href="https://docs.oasis-open.org/mqtt/mqtt/v5.0/mqtt-v5.0.html"><cite>MQTT Version 5.0</cite></a>. Andrew Banks; Ed Briggs; Ken Borgendale; Rahul Gupta.  MQTT. 07 March 2019. URL: <a href="https://docs.oasis-open.org/mqtt/mqtt/v5.0/mqtt-v5.0.html">https://docs.oasis-open.org/mqtt/mqtt/v5.0/mqtt-v5.0.html</a>
    </dd><dt id="bib-rfc7231">[RFC7231]</dt><dd>
      <a href="https://httpwg.org/specs/rfc7231.html"><cite>Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content</cite></a>. R. Fielding, Ed.; J. Reschke, Ed..  IETF. June 2014. Proposed Standard. URL: <a href="https://httpwg.org/specs/rfc7231.html">https://httpwg.org/specs/rfc7231.html</a>
    </dd><dt id="bib-rfc7252">[RFC7252]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc7252"><cite>The Constrained Application Protocol (CoAP)</cite></a>. Z. Shelby; K. Hartke; C. Bormann.  IETF. June 2014. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc7252">https://www.rfc-editor.org/rfc/rfc7252</a>
    </dd></dl>
  </section></section><p role="navigation" id="back-to-top">
    <a href="#title"><abbr title="Back to Top">↑</abbr></a>
  </p><div class="dfn-panel" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-thing" aria-label="Links in this document to definition: Thing" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-thing" aria-label="Permalink for definition: Thing. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-dfn-thing-1" title="§ 4.1.1 Introduction to Protocol Binding Templates">§ 4.1.1 Introduction to Protocol Binding Templates</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-consumer" aria-label="Links in this document to definition: Consumer" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-consumer" aria-label="Permalink for definition: Consumer. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-dfn-consumer-1" title="§ 1. Introduction">§ 1. Introduction</a> 
  </li><li>
    <a href="#ref-for-dfn-consumer-2" title="§ 4.1.4 Using a Thing Description with a Protocol Binding Template Subspecification">§ 4.1.4 Using a Thing Description with a Protocol Binding Template Subspecification</a> <a href="#ref-for-dfn-consumer-3" title="Reference 2">(2)</a> <a href="#ref-for-dfn-consumer-4" title="Reference 3">(3)</a> <a href="#ref-for-dfn-consumer-5" title="Reference 4">(4)</a> 
  </li><li>
    <a href="#ref-for-dfn-consumer-6" title="§ 4.3.1 Introduction to Platform Binding Templates">§ 4.3.1 Introduction to Platform Binding Templates</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-thing-description" aria-label="Links in this document to definition: Thing Description" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-thing-description" aria-label="Permalink for definition: Thing Description. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-dfn-thing-description-1" title="§ 1. Introduction">§ 1. Introduction</a> 
  </li><li>
    <a href="#ref-for-dfn-thing-description-2" title="§ 4.1.1 Introduction to Protocol Binding Templates">§ 4.1.1 Introduction to Protocol Binding Templates</a> <a href="#ref-for-dfn-thing-description-3" title="Reference 2">(2)</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-td" aria-label="Links in this document to definition: TD" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-td" aria-label="Permalink for definition: TD. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </div><div class="dfn-panel" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-interaction-model" aria-label="Links in this document to definition: Interaction Model" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-interaction-model" aria-label="Permalink for definition: Interaction Model. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </div><div class="dfn-panel" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-interaction-affordance" aria-label="Links in this document to definition: Interaction Affordance" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-interaction-affordance" aria-label="Permalink for definition: Interaction Affordance. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </div><div class="dfn-panel" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-property" aria-label="Links in this document to definition: Property" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-property" aria-label="Permalink for definition: Property. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </div><div class="dfn-panel" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-action" aria-label="Links in this document to definition: Action" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-action" aria-label="Permalink for definition: Action. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </div><div class="dfn-panel" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-event" aria-label="Links in this document to definition: Event" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-event" aria-label="Permalink for definition: Event. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </div><div class="dfn-panel" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-data-schema" aria-label="Links in this document to definition: Data Schema" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-data-schema" aria-label="Permalink for definition: Data Schema. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-dfn-data-schema-1" title="§ 4.1.4 Using a Thing Description with a Protocol Binding Template Subspecification">§ 4.1.4 Using a Thing Description with a Protocol Binding Template Subspecification</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-content-type" aria-label="Links in this document to definition: Content Type" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-content-type" aria-label="Permalink for definition: Content Type. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-dfn-content-type-1" title="§ 4.1.4 Using a Thing Description with a Protocol Binding Template Subspecification">§ 4.1.4 Using a Thing Description with a Protocol Binding Template Subspecification</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-protocol-binding" aria-label="Links in this document to definition: Protocol Binding" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-protocol-binding" aria-label="Permalink for definition: Protocol Binding. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </div><div class="dfn-panel" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-binding-template" aria-label="Links in this document to definition: Binding Template" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-binding-template" aria-label="Permalink for definition: Binding Template. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </div><div class="dfn-panel" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-servient" aria-label="Links in this document to definition: Servient" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-servient" aria-label="Permalink for definition: Servient. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </div><div class="dfn-panel" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-vocabulary" aria-label="Links in this document to definition: Vocabulary" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-vocabulary" aria-label="Permalink for definition: Vocabulary. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </div><div class="dfn-panel" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-wot-interface" aria-label="Links in this document to definition: WoT Interface" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-wot-interface" aria-label="Permalink for definition: WoT Interface. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </div><div class="dfn-panel" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-wot-runtime" aria-label="Links in this document to definition: WoT Runtime" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-wot-runtime" aria-label="Permalink for definition: WoT Runtime. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </div><div class="dfn-panel" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-iot-platform" aria-label="Links in this document to definition: IoT Platform" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-iot-platform" aria-label="Permalink for definition: IoT Platform. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-dfn-iot-platform-1" title="§ 1. Introduction">§ 1. Introduction</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-subspecification" aria-label="Links in this document to definition: Binding Template Subspecification" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-subspecification" aria-label="Permalink for definition: Binding Template Subspecification. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-dfn-subspecification-1" title="§ 4. Binding Template Mechanisms">§ 4. Binding Template Mechanisms</a> 
  </li><li>
    <a href="#ref-for-dfn-subspecification-2" title="§ 4.1.3 Existing Protocol Binding Templates">§ 4.1.3 Existing Protocol Binding Templates</a> 
  </li><li>
    <a href="#ref-for-dfn-subspecification-3" title="§ 4.1.5 Creating a new Protocol Binding Template Subspecification">§ 4.1.5 Creating a new Protocol Binding Template Subspecification</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-subspecification-0" aria-label="Links in this document to definition: subspecification" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-subspecification-0" aria-label="Permalink for definition: subspecification. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-dfn-subspecification-0-1" title="§ 1. Introduction">§ 1. Introduction</a> 
  </li><li>
    <a href="#ref-for-dfn-subspecification-0-2" title="§ 4.1.5 Creating a new Protocol Binding Template Subspecification">§ 4.1.5 Creating a new Protocol Binding Template Subspecification</a> 
  </li><li>
    <a href="#ref-for-dfn-subspecification-0-3" title="§ 4.2.4 Creating a new Payload Binding Template Subspecification">§ 4.2.4 Creating a new Payload Binding Template Subspecification</a> 
  </li><li>
    <a href="#ref-for-dfn-subspecification-0-4" title="§ 4.3.1 Introduction to Platform Binding Templates">§ 4.3.1 Introduction to Platform Binding Templates</a> 
  </li><li>
    <a href="#ref-for-dfn-subspecification-0-5" title="§ 4.3.2 Existing Platform Binding Templates">§ 4.3.2 Existing Platform Binding Templates</a> 
  </li><li>
    <a href="#ref-for-dfn-subspecification-0-6" title="§ 4.3.3 Creating a new Platform Binding Template Subspecification">§ 4.3.3 Creating a new Platform Binding Template Subspecification</a> <a href="#ref-for-dfn-subspecification-0-7" title="Reference 2">(2)</a> <a href="#ref-for-dfn-subspecification-0-8" title="Reference 3">(3)</a> 
  </li><li>
    <a href="#ref-for-dfn-subspecification-0-9" title="§ 5. Examples of Thing Descriptions with Protocol Binding Templates">§ 5. Examples of Thing Descriptions with Protocol Binding Templates</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-corespecification" aria-label="Links in this document to definition: Binding Template Core Specification" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-corespecification" aria-label="Permalink for definition: Binding Template Core Specification. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-dfn-corespecification-1" title="§ 4. Binding Template Mechanisms">§ 4. Binding Template Mechanisms</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-core-specification" aria-label="Links in this document to definition: Core Specification" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-core-specification" aria-label="Permalink for definition: Core Specification. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-dfn-core-specification-1" title="§ 3. Terminology">§ 3. Terminology</a> 
  </li>
  </ul>
    </div><script id="respec-dfn-panel">(() => {
// @ts-check
if (document.respec) {
  document.respec.ready.then(setupPanel);
} else {
  setupPanel();
}

function setupPanel() {
  const listener = panelListener();
  document.body.addEventListener("keydown", listener);
  document.body.addEventListener("click", listener);
}

function panelListener() {
  /** @type {HTMLElement} */
  let panel = null;
  return event => {
    const { target, type } = event;

    if (!(target instanceof HTMLElement)) return;

    // For keys, we only care about Enter key to activate the panel
    // otherwise it's activated via a click.
    if (type === "keydown" && event.key !== "Enter") return;

    const action = deriveAction(event);

    switch (action) {
      case "show": {
        hidePanel(panel);
        /** @type {HTMLElement} */
        const dfn = target.closest("dfn, .index-term");
        panel = document.getElementById(`dfn-panel-for-${dfn.id}`);
        const coords = deriveCoordinates(event);
        displayPanel(dfn, panel, coords);
        break;
      }
      case "dock": {
        panel.style.left = null;
        panel.style.top = null;
        panel.classList.add("docked");
        break;
      }
      case "hide": {
        hidePanel(panel);
        panel = null;
        break;
      }
    }
  };
}

/**
 * @param {MouseEvent|KeyboardEvent} event
 */
function deriveCoordinates(event) {
  const target = /** @type HTMLElement */ (event.target);

  // We prevent synthetic AT clicks from putting
  // the dialog in a weird place. The AT events sometimes
  // lack coordinates, so they have clientX/Y = 0
  const rect = target.getBoundingClientRect();
  if (
    event instanceof MouseEvent &&
    event.clientX >= rect.left &&
    event.clientY >= rect.top
  ) {
    // The event probably happened inside the bounding rect...
    return { x: event.clientX, y: event.clientY };
  }

  // Offset to the middle of the element
  const x = rect.x + rect.width / 2;
  // Placed at the bottom of the element
  const y = rect.y + rect.height;
  return { x, y };
}

/**
 * @param {Event} event
 */
function deriveAction(event) {
  const target = /** @type {HTMLElement} */ (event.target);
  const hitALink = !!target.closest("a");
  if (target.closest("dfn:not([data-cite]), .index-term")) {
    return hitALink ? "none" : "show";
  }
  if (target.closest(".dfn-panel")) {
    if (hitALink) {
      return target.classList.contains("self-link") ? "hide" : "dock";
    }
    const panel = target.closest(".dfn-panel");
    return panel.classList.contains("docked") ? "hide" : "none";
  }
  if (document.querySelector(".dfn-panel:not([hidden])")) {
    return "hide";
  }
  return "none";
}

/**
 * @param {HTMLElement} dfn
 * @param {HTMLElement} panel
 * @param {{ x: number, y: number }} clickPosition
 */
function displayPanel(dfn, panel, { x, y }) {
  panel.hidden = false;
  // distance (px) between edge of panel and the pointing triangle (caret)
  const MARGIN = 20;

  const dfnRects = dfn.getClientRects();
  // Find the `top` offset when the `dfn` can be spread across multiple lines
  let closestTop = 0;
  let minDiff = Infinity;
  for (const rect of dfnRects) {
    const { top, bottom } = rect;
    const diffFromClickY = Math.abs((top + bottom) / 2 - y);
    if (diffFromClickY < minDiff) {
      minDiff = diffFromClickY;
      closestTop = top;
    }
  }

  const top = window.scrollY + closestTop + dfnRects[0].height;
  const left = x - MARGIN;
  panel.style.left = `${left}px`;
  panel.style.top = `${top}px`;

  // Find if the panel is flowing out of the window
  const panelRect = panel.getBoundingClientRect();
  const SCREEN_WIDTH = Math.min(window.innerWidth, window.screen.width);
  if (panelRect.right > SCREEN_WIDTH) {
    const newLeft = Math.max(MARGIN, x + MARGIN - panelRect.width);
    const newCaretOffset = left - newLeft;
    panel.style.left = `${newLeft}px`;
    /** @type {HTMLElement} */
    const caret = panel.querySelector(".caret");
    caret.style.left = `${newCaretOffset}px`;
  }

  // As it's a dialog, we trap focus.
  // TODO: when <dialog> becomes a implemented, we should really
  // use that.
  trapFocus(panel, dfn);
}

/**
 * @param {HTMLElement} panel
 * @param {HTMLElement} dfn
 * @returns
 */
function trapFocus(panel, dfn) {
  /** @type NodeListOf<HTMLAnchorElement> elements */
  const anchors = panel.querySelectorAll("a[href]");
  // No need to trap focus
  if (!anchors.length) return;

  // Move focus to first anchor element
  const first = anchors.item(0);
  first.focus();

  const trapListener = createTrapListener(anchors, panel, dfn);
  panel.addEventListener("keydown", trapListener);

  // Hiding the panel releases the trap
  const mo = new MutationObserver(records => {
    const [record] = records;
    const target = /** @type HTMLElement */ (record.target);
    if (target.hidden) {
      panel.removeEventListener("keydown", trapListener);
      mo.disconnect();
    }
  });
  mo.observe(panel, { attributes: true, attributeFilter: ["hidden"] });
}

/**
 *
 * @param {NodeListOf<HTMLAnchorElement>} anchors
 * @param {HTMLElement} panel
 * @param {HTMLElement} dfn
 * @returns
 */
function createTrapListener(anchors, panel, dfn) {
  const lastIndex = anchors.length - 1;
  let currentIndex = 0;
  return event => {
    switch (event.key) {
      // Hitting "Tab" traps us in a nice loop around elements.
      case "Tab": {
        event.preventDefault();
        currentIndex += event.shiftKey ? -1 : +1;
        if (currentIndex < 0) {
          currentIndex = lastIndex;
        } else if (currentIndex > lastIndex) {
          currentIndex = 0;
        }
        anchors.item(currentIndex).focus();
        break;
      }

      // Hitting "Enter" on an anchor releases the trap.
      case "Enter":
        hidePanel(panel);
        break;

      // Hitting "Escape" returns focus to dfn.
      case "Escape":
        hidePanel(panel);
        dfn.focus();
        return;
    }
  };
}

/** @param {HTMLElement} panel */
function hidePanel(panel) {
  if (!panel) return;
  panel.hidden = true;
  panel.classList.remove("docked");
}
})()</script><script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script></body></html>